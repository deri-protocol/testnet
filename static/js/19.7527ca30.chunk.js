(this["webpackJsonpderi-client"]=this["webpackJsonpderi-client"]||[]).push([[19],{1214:function(e,t,a){"use strict";var i,s,n=a(87),c=a(1210),l=a(88),o=a(25),r=a(185),d=a(6),b=(a(63),a(1277)),j=a(50),u=a(19),p=a(11),h=a(4),x=["allowZero","wallet","closeShowLoadingEffectAfterLoaded","defaultValue"],m=Object(j.a)(b.a)(i||(i=Object(r.a)(["\n  width : ","px;\n"])),(function(e){return e.width})),v=j.a.div(s||(s=Object(r.a)(["\n  width : ",";\n  height : ",";\n"])),(function(e){return/px$/.test(e.width)?e.width:"".concat(e.width,"px")}),(function(e){return/px$/.test(e.height)?e.height:"".concat(e.height,"px")}));t.a=function(e){var t=Object(d.useState)(Object(h.jsx)("span",{className:"loading-line"})),a=Object(o.a)(t,2),i=a[0],s=a[1],r=Object(d.useState)(!0),b=Object(o.a)(r,2),j=b[0],O=b[1],f=function(){var t=e.allowZero;return"object"!==Object(l.a)(e.value)&&void 0!==e.value&&""!==e.value&&!isNaN(e.value)&&"NaN"!==e.value||0===Math.abs(e.value)&&!0===t},g=function(e){return e&&e.replace(/\.$/,"")};return Object(d.useEffect)((function(){var t=e.allowZero,a=(e.wallet,e.closeShowLoadingEffectAfterLoaded),i=e.defaultValue,l=void 0===i?"--":i,o=Object(c.a)(e,x);if(f())o.decimalScale>0&&o.value&&/\d+\.0*[1-9]+/.test(o.value)&&0===+Object(p.bg)(o.value).toFixed(+o.decimalScale||2)&&(o.decimalScale=Object(u.d)(Math.abs(o.value))+2),(-1===o.decimalScale||0===+o.value&&t)&&delete o.decimalScale,o.value=Object(u.K)(o.value),o.value&&/\d+.9{6}/.test(o.value)&&(o.value=(+o.value).toFixed(5)),s(Object(h.jsx)(m,Object(n.a)(Object(n.a)({},o),{},{renderText:g,displayType:"text",fixedDecimalScale:!0,thousandSeparator:!0})));else if(j){var r=e.width,d=e.height;s(Object(h.jsx)(v,{className:"loading-line",width:r,height:d})),a&&O(!1)}var b=window.setTimeout((function(){f()||s(l)}),6e4);return function(){clearTimeout(b)}}),[e.value,e.decimalScale,e.suffix]),i}},1225:function(e,t,a){"use strict";a.d(t,"a",(function(){return b}));var i=a(50),s=a(1321),n=a.n(s),c=a(139),l=a(19),o=a(1297),r=a(4);const d=i.a.div`
  display:${e=>e.block};
  .text {
    border-bottom : 1px dashed #93A1B8;
    width : max-content;
    cursor : pointer;
    display:${e=>e.block}
  }
  
  .__react_component_tooltip.tooltip.show {
    font-weight : ${e=>e.isWin?400:600} 
  }
`;function b(e){let{text:t,id:a=String((new Date).getTime())+Math.random(),tip:i,multiline:s,html:b,className:j,element:u="",block:p="block",width:h="auto",children:x,tiggerEvent:m}=e;return Object(r.jsxs)(d,{className:j,block:p,isWin:o.isWindows,children:[Object(r.jsx)("div",{className:"text","data-for":a,"data-tip":b?n.a.renderToString(u):i,"data-event":Object(l.z)()?"click":m,"data-html":b,children:t||x}),i&&Object(r.jsx)(c.a,{id:a,width:h,padding:"12",place:"bottom",overridePosition:(e,t,a,i,s,n,c,l)=>{const o=a.getBoundingClientRect(),r=i.getBoundingClientRect();let{x:d,y:b,height:j,width:u}=o;const{left:p,top:h}=e;return d+r.width/2>document.documentElement.clientWidth?d-=Math.abs(u-r.width):d-(r.width-u)/2<0?d-=u:d-=(r.width-u)/2,b+j+r.height>=document.documentElement.clientHeight?b=b+j-r.height:b+=j,d<0&&(d=0),b<0&&(b=0),{top:b,left:d}},html:b,borderRadius:8,multiline:s})]})}},1273:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var i=a(6),s=a(162),n=a(50),c=a(4);const l=n.a.div`
    display : flex;
    width: 100%;
    justify-content: space-between;
  `;function o(e){let{groups:t=["25%","50%","75%","100%"],selectedBorderColor:a,defaultBorderColor:n,onChange:o,defaultValue:r,outline:d,outlineColor:b,width:j,height:u,bgColor:p,className:h,disabled:x,canUnselected:m=!0}=e;const[v,O]=Object(i.useState)(r);return Object(i.useEffect)((()=>{O(r)}),[r]),Object(c.jsx)(l,{className:h,children:t.map(((e,t)=>Object(c.jsx)(s.a,{label:e,selectedBorderColor:a,isSelected:e===v,disabled:x,outline:d,bgColor:p,className:"g-button",defaultBorderColor:n,outlineColor:b,width:j,height:u,onClick:()=>{var t;(t=e)!==v?(O(t),o&&o(t)):m&&t===v?(O(""),o&&o("")):O(t)}},t)))})}},1322:function(e,t,a){"use strict";a.d(t,"a",(function(){return j}));var i,s=a(87),n=a(185),c=a(6),l=a(50),o=a(11),r=a(1225),d=a(4),b=l.a.div(i||(i=Object(n.a)(["\ndisplay : flex;\nfont-size : 14px;\nalign-items : center;\nbackground: rgba(85, 119, 253, 0.1);\nborder-radius: 4px;\njustify-content: space-between;\ninput {\n  background: transparent;\n  border-radius: 4px;\n  // min-width: 240px;\n  border: 0;\n  width : ",";\n  height: ",";\n  color : #E0ECFF;\n  font-size : 18px;\n  padding-left: 16px;\n}\ninput:focus {\n  outline: none;\n}\n.unit {\n  margin-right: ",";\n}\n"])),(function(e){return e.inputWidth}),(function(e){return e.inputHeight}),(function(e){return e.unitPadding}));function j(e){var t=e.value,a=e.unit,i=e.unitTip,n=e.max,l=e.step,j=e.onChange,u=e.styles,p=void 0===u?{}:u,h=e.disableNegtive,x=void 0===h||h,m=e.focus,v=e.placeholder,O=void 0===v?"":v,f=e.unitPadding,g=void 0===f?"24px":f,y=e.minTradeVolume,k=e.decimal,w=void 0===k?2:k,N=e.readOnly,S=e.inputWidth,T=void 0===S?"50%":S,C=e.inputHeight,$=void 0===C?"56px":C,I=e.className,E=e.disabled,F=void 0!==E&&E,q=e.onBlur,_=e.onFocus,B=Object(c.useRef)(null);return Object(c.useEffect)((function(){B.current.setCustomValidity(""),B.current&&m&&B.current.focus()}),[m]),Object(d.jsxs)(b,{unitPadding:g,inputWidth:T,inputHeight:$,className:I,style:Object(s.a)({},p),children:[Object(d.jsx)("input",{placeholder:O,type:"number",onBlur:q,onFocus:_,disabled:F,value:t,step:l,ref:B,onChange:function(e){var t="\\d+\\.\\d{0,".concat(w,"}$"),a=new RegExp(t),i=e.target.value;if(n&&Object(o.bg)(i).gt(n))j&&j(n);else if(x&&(i<0||isNaN(i)))j&&j("");else if(i){if(y>=1)if(i/y>=1)j&&j(Object(o.bg)(i).div(y).integerValue()*y);else j&&j(i*y);else if(/\d+\./.test(i)&&!a.test(i)){var s=i.substring(0,i.indexOf(".")+1+w);j&&j(s)}else j&&j(i)}else j&&j(i)},readOnly:N}),Object(d.jsx)("div",{className:"unit",children:i?Object(d.jsx)(r.a,{tip:i,text:a}):a})]})}},1367:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var i=a(50),s=a(6),n=a(28),c=a(4);const l=i.a.div`
    cursor: pointer;
    width:${e=>e.width}px;
    height:${e=>e.height}px;
    display:flex;
    .tab-left.inactive{
      border-radius:0px 0px 4px 0px;
    }
    .tab-right.inactive{
      border-radius:0px 0px 0px 4px;
    }
    .tab-left.active{
      border-radius:0px 4px 0px 0px;
      ${e=>e.borderR};
    }
    .tab-right.active{
      border-radius:4px 0px 0px 0px;
      ${e=>e.borderL};
    }
    .inactive,.active{
      width:50%;
      box-sizing: content-box;
      font-size:${e=>e.size}px;
      display: flex;
      align-items: center;
      justify-content: center;
      img{
        margin-right:${e=>e.iconMarginRight}px
      }
    }
    .inactive{
      background:${e=>e.inactiveBgColor};
      ${e=>e.borderB}
    }
    .active {
      color: ${e=>e.activeFontColor};
      background : ${e=>e.activeBgColor};
      ${e=>e.borderT};
    }
    .icon-tab{
      margin-right:20px;
      width:25px;
      height:25px;
    }
  `;function o(e){let{tabSet:t,inactiveBgColor:a,iconMarginRight:i,activeBgColor:o,icon:r,className:d,width:b=238,height:j=47,size:u=16,borderTop:p=!1,borderBottom:h=!1,divider:x=!1,activeIndex:m=0}=e,v=Object.keys(t);const[O,f]=Object(s.useState)(v[m]),[g,y]=Object(s.useState)(),[k,w]=Object(s.useState)(),[N,S]=Object(s.useState)(),[T,C]=Object(s.useState)(),[$,I]=Object(s.useState)(),[E,F]=Object(s.useState)();return Object(s.useEffect)((()=>{const e=Object.keys(t);f(e[m])}),[t,m]),Object(s.useEffect)((()=>{const e=Object.keys(t);let a=O||e[m];if(t[a]){y(t[a].style);let e=p?`border-top:1px solid ${t[a].borderColor}`:"border-top:0",i=h?`border-bottom:1px solid ${t[a].borderColor}`:"border-bottom:0",s=x?`border-left:1px solid ${t[a].borderColor}`:"border-left:0",n=x?`border-right:1px solid ${t[a].borderColor}`:"border-right:0",c=t[a].fontColor?t[a].fontColor:"#FFFFFF";w(e),S(s),C(i),I(n),F(c)}}),[t,O]),Object(c.jsxs)("div",{style:g,className:d,children:[Object(c.jsx)(l,{className:"tab-header",iconMarginRight:i,width:b,height:j,activeFontColor:E,activeBgColor:o,inactiveBgColor:a,size:u,borderT:k,borderB:T,borderL:N,borderR:$,children:v.map(((e,a)=>Object(c.jsxs)("div",{className:e===O?`${t[e].direction||t[e].className} active`:`${t[e].direction||t[e].className} inactive`,onClick:t=>function(e,t){f(e)}(e),children:[t[e].icon?Object(c.jsx)(n.a,{width:t[e].iconWidth,height:t[e].iconHeight,token:e===O?t[e].icon:t[e].inicon}):"","  ",e]},a)))}),t[O]?t[O].content:""]})}},1390:function(e,t,a){"use strict";t.a=a.p+"static/media/staked.45c27f0b.svg"},1404:function(e,t,a){"use strict";var i=a(6),s=a(162),n=a(47),c=a(120),l=a(38),o=a(11),r=a(19),d=(a(1640),a(4));function b(){return Object(d.jsx)("div",{class:"sleepContentView",children:Object(d.jsx)("div",{class:"circle"})})}var j=a(28);a(1641);t.a=Object(n.b)("wallet")(Object(n.c)((function(e){let{lang:t,subject:a,wallet:n,pool:u={},ignoreApprove:p,bTokenId:h,bToken:x,icon:m,label:v,onClick:O,isReady:f,disabled:g=!0,statusCallback:y,alert:k,...w}=e;const[N,S]=Object(i.useState)(!0),[T,C]=Object(i.useState)(v),[$,I]=Object(i.useState)(!1),[E,F]=Object(i.useState)(!1),[q,_]=Object(i.useState)(!1),[B,L]=Object(i.useState)(!1),[A,H]=Object(i.useState)(m),D=Object(i.useCallback)((async(e,t)=>{let a;if(e.detail&&t.address)if(c.a.isOpen&&await o.openConfigListCache.update(),Object(r.y)(t.address))a=await l.a.request("isLpUnlocked",[e.detail.chainId,t.address,e.detail.account]);else if(h||x){const i=[e.detail.chainId,t.address,e.detail.account,h||x];a=await l.a.request("isUnlocked",i)}return a}),[x,h]),R=Object(i.useCallback)((async()=>{if(n&&u){let e;if(c.a.isOpen&&await o.openConfigListCache.update(),Object(r.y)(u.address))e=await l.a.request("unlockLp",[n.detail.chainId,u.address,n.detail.account],{write:!0,subject:t.approve});else{let a=[n.detail.chainId,u.address,n.detail.account,h||x];e=await l.a.request("unlock",a,{write:!0,subject:Object(r.h)(t.approve.toLowerCase())})}if(e){if(e.status)k.success(`Approve ${x}`,{timeout:8e3,isTransaction:!0,transactionHash:e.transactionHash,link:`${n.blockExploreUrl}/tx/${e.transactionHash}`,title:"Approve Executed"});else{if(""===e.transactionHash)return!1;k.error(`Transaction Failed ${e.error}`,{timeout:3e5,isTransaction:!0,transactionHash:e.transactionHash,link:`${n.blockExploreUrl}/tx/${e.transactionHash}`,title:"Approve Failed"})}return e.status}}}),[u,n,h,x]);return Object(i.useEffect)((async()=>{u&&n.detail&&n.detail.account&&u.bTokens&&t&&(n.isConnected()?await D(n,u)?(I(!1),C(v),H(m),y&&y(!1)):(I(!0),H(m),y&&y(!0)):(C(t["connect-wallet"]),H(null)))}),[u,n,t,x,h]),Object(i.useEffect)((()=>{S(!g)}),[g]),Object(i.useEffect)((()=>{n&&u&&u.address&&(n.setAddress(u.address),u.isV3||u.isV3Lite?n.setBToken(x):n.setBTokenId(h))}),[n,u,h,x]),Object(d.jsxs)("div",{children:[Object(d.jsx)(s.a,{...w,disabled:!N,label:T,onClick:async e=>{if(u&&n&&n.detail){if(L(!0),n.isConnected()){if(p||await D(n,u))return H(m),O(e);{H(m);let e=await R();if(e){F(!0),await O()&&_(!0),y&&y(!1)}else L(!1),y&&y(!0);return e}}return H(null),n.connect()}},icon:A}),!p&&$&&N&&Object(d.jsxs)("div",{className:"init-approve",children:[Object(d.jsxs)("div",{className:"step-approve",children:[!B&&Object(d.jsx)("div",{className:"step-one",children:"1"}),B&&Object(d.jsx)("div",{className:"pending",children:E?Object(d.jsx)(j.a,{token:"finish"}):Object(d.jsx)(b,{})}),Object(d.jsx)("div",{className:E?"approve-text finish-text":"approve-text",children:t.approve})]}),Object(d.jsx)("div",{className:E?"step-hr finish":"step-hr"}),Object(d.jsxs)("div",{className:"step-transaction",children:[!E&&Object(d.jsx)("div",{className:"step-two",children:"2"}),B&&E&&Object(d.jsx)("div",{className:"pending",children:q?Object(d.jsx)(j.a,{token:"finish"}):Object(d.jsx)(b,{})}),Object(d.jsx)("div",{className:q?"transaction-text finish-text":"transaction-text",children:T})]})]})]})})))},1421:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var i=a(6),s=a(50),n=a(461),c=a(4);const l=s.a.div`
  .search-token{
  width: ${e=>e.width}px;
  height: ${e=>e.height}px;
  background: ${e=>e.bgColor};
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding:0 24px;
  border-radius:4px;
  img{
    width:18px;
    height:18px;
  }
  .search-input{
    border: 0;
    width:100%;
    height: 100%;
    background:transparent;
    outline-style: none;
    color: #FFFFFF;
    font-size: 18px;
    border-radius: 4px;
  }
}
`;function o(e){let{list:t,onChange:a,width:s="320",height:o="48",bgColor:r="rgba(85, 119, 253, 0.1)",searchName:d="bTokenSymbol",className:b,placeholder:j="Search",onFocus:u,onBlur:p}=e;const[h,x]=Object(i.useState)(""),[m,v]=Object(i.useState)(0),O=Object(i.useRef)([]);return Object(i.useEffect)((()=>{if(h){let e=h.toLocaleUpperCase();0===O.current.length&&(O.current=t,v(t.length));const i=O.current.filter((t=>t[d]&&t[d].toUpperCase().indexOf(e)>=0));a(i,e)}else a(O.current)}),[h]),Object(i.useEffect)((()=>{0===O.current.length&&v(t.length)}),[t]),Object(c.jsx)(l,{width:s,height:o,bgColor:r,className:b,children:Object(c.jsxs)("div",{className:"search-token",children:[Object(c.jsx)("input",{type:"text",className:"search-input",placeholder:j,value:h,onChange:e=>{(e=>{let t=e.target.value;x(t)})(e)}}),Object(c.jsx)("img",{src:n.default,alt:""})]})})}},1637:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var i=a(54),s=a(19),n=a(1553),c=a(1535),l=(a(1639),a(164)),o=a(4);const r=[{selector:".mining-claim",content:()=>Object(o.jsx)("div",{className:"step-one",children:"The old DERI farm is moved here"})},{selector:".showGuide",content:()=>Object(o.jsx)("div",{className:"step-one",children:"Click on the pool you\u2019ve staked"})},{selector:".deri-current-epoch",content:()=>Object(o.jsx)("div",{className:"step-one",children:"The new DERI reward is shown here"})}];function d(e){let{poolClaim:t,isThree:a=!1}=e;const{setIsOpen:d}=Object(c.b)(),b=Object(i.g)();return Object(o.jsx)("div",{children:t&&Object(o.jsx)(c.a,{steps:r,startAt:a?2:0,defaultOpen:t,components:{Close:e=>{let{onClick:t}=e;return Object(o.jsx)("img",{onClick:()=>{t(),Object(s.H)("poolClaim","true"),sessionStorage.setItem("poolGuideThree","0")},className:"close-modal",src:l.default})},Badge:e=>{let{children:t}=e;return Object(o.jsxs)("div",{className:"step-num",children:[Object(o.jsx)("span",{className:"now-step",children:t}),"  / 3"]})}},className:"pool-guide",disableFocusLock:!1,disableInteraction:!0,onClickMask:()=>{d(!0)},afterOpen:e=>Object(n.a)(e),beforeClose:e=>Object(n.b)(e),scrollSmooth:!0,nextButton:e=>{let{currentStep:t,stepsLength:a,setIsOpen:i,setCurrentStep:n}=e;const c=t===a-1;return Object(o.jsx)("button",{className:"next",onClick:()=>{if(c)i(!1),Object(s.H)("poolClaim","true"),sessionStorage.setItem("poolGuideThree","0");else{if(1===t){let e="/pool/v3_lite/97/future,power/0xAADA94FcDcD7FCd7488C8DFc8eddaac81d7F71EE";b.push(e),sessionStorage.setItem("poolGuideThree","3")}n((e=>e===r.length-1?0:e+1))}},children:c?"OK":"NEXT"})},prevButton:e=>{let{currentStep:t,stepsLength:a,setIsOpen:i,setCurrentStep:s}=e;return Object(o.jsx)(o.Fragment,{})}})})}},1639:function(e,t,a){},1640:function(e,t,a){},1641:function(e,t,a){},1642:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var i=a(6),s=(a(38),a(50)),n=a(28),c=a(1225),l=a(1214),o=a(4);const r=s.a.div`
  .remove-hint{
    cursor: pointer;
    .text{
      display: flex;
      border:0;
    }
    span{
      margin-left:8px;
    }
  }
`;function d(e){let{lang:t,wallet:a,baseToken:s,penalty:d,isB0Staked:b,availableBalance:j,getLang:u}=e;const[p,h]=Object(i.useState)("");return Object(i.useEffect)((()=>{let e,i=56===+a.detail.chainId||97===+a.detail.chainId?"BUSD":"USDC",n={num:s,name:i},c={name:i};e=b?"BUSD"===s||"USDC"===s?`${t["your-account-has-an-unsettled-balance-of"]} ${d} ${i} ${u("this-action-will-update-your",c)}`:`${t["your-account-has-an-unsettled-balance-of"]} ${d} ${i} ${u("this-action-will-trigger-swapping-to-update-your",n)}`:`${t["your-account-has-an-unsettled-balance-of"]} ${d} ${i} ${u("this-action-will-trigger-swapping-to-update-your-busd-balance-to-reflect-the-unsettled-amount",n)}`,h(e)}),[b,d,s]),Object(o.jsx)(r,{children:+d<0&&+j>0&&Object(o.jsx)("div",{className:"remove-hint",children:Object(o.jsxs)(c.a,{tip:p,width:"332",children:[Object(o.jsx)(n.a,{token:"warn"})," ",Object(o.jsxs)("span",{children:[t["negative-unsettled-balance"]," : ",Object(o.jsx)(l.a,{value:d,decimalScale:2})," BUSD"]})]})})})}},2064:function(e,t,a){},2065:function(e,t,a){},2330:function(e,t,a){"use strict";a.r(t);var i=a(6),s=a(54),n=a(77),c=a(47),l=a(163),o=a(162),r=a(1322),d=a(1404),b=a(1273),j=a(19),u=a(1214),p=a(10),h=a(38),x=(a(2064),a(11)),m=a(1642),v=a(4);function O(e){let{getLang:t,wallet:a,lang:s,type:n,isLp:c,bTokenId:o,poolConfig:O,version:f,baseToken:g,address:y,walletBalance:k,poolInfo:w,afterTransaction:N}=e;const[S,T]=Object(i.useState)(""),[C,$]=Object(i.useState)(!1),[I,E]=Object(i.useState)(""),[F,q]=Object(i.useState)(!1),[_,B]=Object(i.useState)(""),[L,A]=Object(i.useState)(!1),H=Object(l.c)(),[D,R]=Object(i.useState)({}),U="add"===n||"v2"===f||"v3"===f||"v3_lite"===f?g:s.shares;return Object(i.useEffect)((()=>{let e="add"===n?Object(x.bg)(k):Object(x.bg)(w.totalShares);/\d+\.(999999|099999|009999|000999|000099|000009)/.test(e)&&(e=Object(x.bg)((+k).toFixed(5)));const t=Object(x.bg)(S);S&&0!==+S&&!t.gt(e)?((async()=>{let e,t="add"===n?S:Object(x.bg)(S).times(Object(x.bg)(-1)).toString();e="v3"===f||"v3_lite"===f?[a.detail.chainId,y,a.detail.account,t,g]:[a.detail.chainId,y,a.detail.account,t,o];let i=await h.a.request("getEstimatedLiquidityInfo",e);+i.percentage1<0&&(i.percentage1=0,i.shares1=0),R(i)})(),q(!1)):q(!0)}),[S,n,w,k]),Object(i.useEffect)((()=>{T(""),E("")}),[n,o,g]),Object(i.useEffect)((()=>{a.isConnected()&&(async()=>{if(g){let e=await h.a.request("getEstimatedLpInfo",[a.detail.chainId,y,a.detail.account,g]);B(e.b0Penalty),A(e.isB0Staked)}})()}),[a.detail,g,y]),Object(v.jsxs)("div",{className:"operate",children:[Object(v.jsx)("div",{className:"add-input",children:Object(v.jsx)(r.a,{value:S,unit:U,onChange:e=>{T(e)},inputWidth:"237px",styles:{"min-width":"332px"}})}),"add"===n&&Object(v.jsxs)("div",{className:"wallet-balance",children:[s["wallet-balance"],": ",Object(v.jsx)(u.a,{value:k,displayType:"text",decimalScale:2})," ",g]}),"remove"===n&&Object(v.jsxs)("div",{className:"wallet-balance",children:[s["staked-balance"],": ",Object(v.jsx)(u.a,{value:w.totalShares,displayType:"text",decimalScale:2})," ",U]}),"remove"===n&&Object(v.jsx)("div",{children:Object(v.jsx)(m.a,{getLang:t,lang:s,baseToken:g,wallet:a,penalty:_,isB0Staked:L})}),Object(v.jsx)("div",{className:"check-proportion",children:Object(v.jsx)(b.a,{outline:!0,defaultValue:I,onChange:e=>{let t="add"===n?k:w.totalShares,a=Object(j.F)(e,t);E(e),T(a),E(e),$("100%"===e)},bgColor:" rgba(85, 119, 253, 0.1)",width:77,height:40})}),Object(v.jsx)("div",{className:"information",children:0!==+S&&Object(v.jsxs)("div",{children:[Object(v.jsxs)("div",{className:"percentage",children:[Object(v.jsx)("div",{className:"info-box-title",children:s["my-liquidity-percentage"]}),Object(v.jsxs)("div",{className:"info-box-num",children:[Object(v.jsx)(u.a,{allowZero:!0,width:"80px",value:w.percent,decimalScale:2,suffix:"%"})," ->  ",Object(v.jsx)(u.a,{width:"80px",allowZero:!0,value:100*D.percentage1,decimalScale:2,suffix:"%"})]})]}),Object(v.jsxs)("div",{className:"staked-balance",children:[Object(v.jsx)("div",{className:"info-box-title",children:s["staked-balance"]}),Object(v.jsxs)("div",{className:"info-box-num",children:[Object(v.jsx)(u.a,{width:"80px",allowZero:!0,value:w.formatShares,decimalScale:2})," -> ",Object(v.jsx)(u.a,{width:"80px",allowZero:!0,value:D.shares1,decimalScale:2}),"v2"===f||"v3"===f||"v3_lite"===f?" "+g:" "+s.shares]})]})]})}),Object(v.jsxs)("div",{className:"add-remove-btn",children:["add"===n&&Object(v.jsx)(d.a,{alert:H,disabled:F,fontWeight:"bold",onClick:async()=>{const e=Object(x.bg)(k);if(Object(x.bg)(S).gt(e))return H.error(s["not-sufficient-funds"]),!1;if(S<=0||isNaN(S))return H.error(s["it-has-to-be-greater-than-zero"]),!1;let i;if("lp"===c){let e=[a.detail.chainId,y,a.detail.account,S];i=await h.a.request("addLpLiquidity",e,{includeResponse:!0,write:!0,subject:s["add-liquidity"]})}else{let e;e="v3"===f||"v3_lite"===f?[a.detail.chainId,y,a.detail.account,S,g]:[a.detail.chainId,y,a.detail.account,S,o],i=await h.a.request("addLiquidity",e,{includeResponse:!0,write:!0,subject:s["add-liquidity"]})}return N(!0),T(""),i&&i.success?(H.success(`${t("add-baseToken-liquidity",{baseToken:g})}`,{timeout:8e3,isTransaction:!0,transactionHash:i.response.data.transactionHash,link:`${a.blockExploreUrl}/tx/${i.response.data.transactionHash}`,title:s["add-liquidity-executed"]}),!0):(""===i.response.transactionHash||H.error(`${s["transaction-failed"]} : ${i.response.error}`,{timeout:3e5,isTransaction:!0,transactionHash:i.response.transactionHash,link:`${a.blockExploreUrl}/tx/${i.response.transactionHash}`,title:s["add-liquidity-failed"]}),!1)},bToken:g,pool:O,wallet:a,bTokenId:o,fontSize:"18",type:p.o,width:"331",label:s["add-liquidity"],lang:s}),"remove"===n&&Object(v.jsx)(d.a,{alert:H,disabled:F,fontWeight:"bold",onClick:async()=>{const e=Object(x.bg)(w.totalShares);let i;i=C?w.totalShares:S;const n=Object(x.bg)(i);if(n.gt(e))return H.error(`${s["your-current-max-removable-shares-are"]}  ${w.totalShares}`),!1;if(+i<=0||isNaN(S))return H.error(s["invalid-liquidity"]),!1;let l;if("lp"===c){let e=[a.detail.chainId,y,a.detail.account,i];l=await h.a.request("removeLpLiquidity",e,{includeResponse:!0,write:!0,subject:s["remove-liquidity"]})}else{let t;t="v3"===f||"v3_lite"===f?[a.detail.chainId,y,a.detail.account,i,g,e.eq(n)]:[a.detail.chainId,y,a.detail.account,i,o,e.eq(n)],l=await h.a.request("removeLiquidity",t,{includeResponse:!0,write:!0,subject:s["remove-liquidity"]})}if(l&&l.success)H.success(`${t("remove-baseToken-liquidity",{baseToken:g})}`,{timeout:5e3,isTransaction:!0,transactionHash:l.response.data.transactionHash,link:`${a.blockExploreUrl}/tx/${l.response.data.transactionHash}`,title:s["remove-liquidity-executed"]});else{if(""===l.response.transactionHash)return!1;H.error(`${s["transaction-failed"]} : ${l.response.error}`,{timeout:3e5,isTransaction:!0,transactionHash:l.response.transactionHash,link:`${a.blockExploreUrl}/tx/${l.response.transactionHash}`,title:s["remove-liquidity-failed"]})}return T(""),N(),!0},bToken:g,pool:O,type:p.o,wallet:a,bTokenId:o,fontSize:"18",width:"331",label:s["remove-liquidity"],lang:s})]})]})}var f=a(1367),g=a(102),y=a(167),k=(a(2065),a(456)),w=a(451),N=a(454),S=a(450),T=a(453),C=a.p+"static/media/deri.520d2449.svg",$=a(1390),I=a(455),E=a(1225),F=a(287);const q=g[x.DeriEnv.get()].chainInfo;function _(e){let{wallet:t,chainId:a,nowApy:s,poolInfo:n,address:c,nowToken:r,lang:d,version:b,type:p,poolConfig:x,symbols:m}=e;const[O,f]=Object(i.useState)("show"),[g,y]=Object(i.useState)(),k=Object(l.c)(),w=async()=>{if(console.log("poolConfig",x),x){let e=await x.getVenusEarned(t,c);e=+e,y(e)}};return Object(i.useEffect)((()=>{if(t.isConnected()&&("v3"===b||"v3_lite"===b)){let e=null;return w(),e=window.setInterval((()=>{w()}),18e4),()=>{e&&clearInterval(e)}}}),[t,t.detail,x]),Object(v.jsxs)("div",{className:"pool-info",children:[Object(v.jsxs)("div",{className:"pool-info-title",children:[Object(v.jsx)("div",{className:"pool-info-title-text",children:d["pool-info"]}),Object(v.jsxs)("div",{className:"down-up",children:["show"===O&&Object(v.jsx)("span",{onClick:()=>f("hide"),children:Object(v.jsx)("img",{className:"up-icon",alt:"",src:F.default})}),"hide"===O&&Object(v.jsx)("span",{onClick:()=>f("show"),children:Object(v.jsx)("img",{alt:"",src:F.default})})]})]}),Object(v.jsxs)("div",{className:`'pool-info-text' ${O}`,children:[Object(v.jsxs)("div",{className:"pool-info-text-one",children:["v2_lite_open"!==b&&Object(v.jsxs)("div",{className:"info-box",children:[Object(v.jsx)("div",{className:"info-box-title",children:d.apy}),Object(v.jsxs)("div",{className:"info-box-num",children:["v3"!==b&&"v3_lite"!==b&&Object(v.jsx)(u.a,{value:n.apy,displayType:"text",decimalScale:2,suffix:"%"}),("v3"===b||"v3_lite"===b)&&Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(E.a,{text:Object(v.jsx)(u.a,{width:"50px",value:s.apy,displayType:"text",decimalScale:2,suffix:"%"}),tip:d["deri-apy"]}),"\xa0 +  \xa0  ",Object(v.jsx)(E.a,{text:Object(v.jsx)(u.a,{width:"50px",value:s.supplyApy,displayType:"text",decimalScale:2,suffix:"%"}),tip:d["venus-suppy-apy"]}),"  \xa0 +  \xa0",Object(v.jsx)(E.a,{text:Object(v.jsx)(u.a,{width:"50px",value:s.xvsApy,displayType:"text",decimalScale:2,suffix:"%"}),tip:d["xvs-distribution-apy"]})]})]})]}),Object(v.jsxs)("div",{className:"info-box",children:[Object(v.jsx)("div",{className:"info-box-title",children:d["pool-liquidity"]}),Object(v.jsxs)("div",{className:"info-box-num",children:[Object(v.jsx)(u.a,{value:n.total,displayType:"text",decimalScale:2,thousandSeparator:!0})," ","v3"===b||"v3_lite"===b?56===+a||97===+a?"BUSD":"USDC":r]})]}),("v2"===b||"v3"===b||"v3_lite"===b)&&!("option"===p&&"v2"===b)&&Object(v.jsxs)("div",{className:"info-box",children:[Object(v.jsx)("div",{className:"info-box-title",children:d.multiplier}),Object(v.jsx)("div",{className:"info-box-num",children:n.multiplier})]}),Object(v.jsxs)("div",{className:"info-box",children:[Object(v.jsx)("div",{className:"info-box-title",children:d["my-liquidity-percentage"]}),Object(v.jsx)("div",{className:"info-box-num",children:Object(v.jsx)(u.a,{allowZero:!0,value:n.percent,decimalScale:2,suffix:"%"})})]}),("v2"!==b&&"v3"!==b&&"v3_lite"!==b||"v2"===b&&"option"===p)&&Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)("div",{className:"info-box",children:[Object(v.jsx)("div",{className:"info-box-title",children:d["liquidity-share-value"]}),Object(v.jsxs)("div",{className:"info-box-num",children:[Object(v.jsx)(u.a,{allowZero:!0,decimalScale:6,value:n.shareValue,thousandSeparator:!0})," ",r]})]})}),Object(v.jsxs)("div",{className:"info-box",children:[Object(v.jsx)("div",{className:"info-box-title",children:d["staked-balance"]}),Object(v.jsxs)("div",{className:"info-box-num",children:[Object(v.jsx)(u.a,{allowZero:!0,value:n.formatShares,decimalScale:2}),"v2"!==b&&"v3"!==b&&"v3_lite"!==b||"option"===p&&"v2"===b?" "+d.shares:" "+r]})]}),("v2"!==b&&"v3"!==b&&"v3_lite"!==b||"v2"===b&&"option"===p)&&Object(v.jsxs)("div",{className:"info-box",children:[Object(v.jsx)("div",{className:"info-box-title"}),Object(v.jsxs)("div",{className:"info-box-num",children:[Object(v.jsx)(u.a,{allowZero:!0,decimalScale:2,value:n.values,thousandSeparator:!0})," ",r]})]}),("v2"===b||"v3"===b||"v3_lite"===b)&&!("option"===p&&"v2"===b)&&Object(v.jsxs)("div",{className:"info-box",children:[Object(v.jsx)("div",{className:"info-box-title",children:Object(v.jsx)(E.a,{multiline:!0,text:d["mining-pnl"],tip:d["mining-pnl-hover"],html:!0,element:Object(v.jsxs)("span",{children:[" ",Object(v.jsxs)("div",{children:[d["mining-pnl-hover-one"]," "]}),d["mining-pnl-hover"]," ",Object(v.jsxs)("div",{children:[Object(v.jsx)("a",{target:"_blank",href:"https://docs.deri.io/how-it-works/mining-amm-liquidity-mining#ii.-base-token-profit-with-market-risk",children:d["learn-more-pnl"]})," "]})," "]})})}),Object(v.jsxs)("div",{className:"info-box-num",children:[Object(v.jsx)(u.a,{allowZero:!0,prefix:" ",value:n.pnl,decimalScale:2}),"  ",x&&x.bTokens[0].bTokenSymbol," (",Object(v.jsx)(u.a,{value:n.pnlPercentage,decimalScale:2,suffix:"%"}),")"]})]}),("v3"===b||"v3_lite"===b)&&(56===+a||97===+a)&&Object(v.jsxs)("div",{className:"info-box",children:[Object(v.jsx)("div",{className:"info-box-title",children:d["xvs-earned"]}),Object(v.jsxs)("div",{className:"info-box-num collect-box",children:[Object(v.jsx)(u.a,{value:g,decimalScale:2}),Object(v.jsx)(o.a,{onClick:async()=>{let e=await h.a.request("claimXVSLp",[t.detail.chainId,c,t.detail.account],{includeResponse:!0,write:!0,subject:d["claim-XVS"]});if(e&&e.success)k.success(d["claim-XVS-reward"],{timeout:8e3,isTransaction:!0,transactionHash:e.response.data.transactionHash,link:`${t.blockExploreUrl}/tx/${e.response.data.transactionHash}`,title:d["claim-reward-failed"]});else{if(""===e.response.transactionHash)return!1;k.error(`${d["transaction-failed"]} : ${e.response.error}`,{timeout:3e5,isTransaction:!0,transactionHash:e.response.transactionHash,link:`${t.blockExploreUrl}/tx/${e.response.transactionHash}`,title:d["claim-reward-executed"]})}w()},className:"collect",label:d.collect})]})]})]}),Object(v.jsxs)("div",{className:"pool-info-text-two",children:["lp"!==p&&Object(v.jsxs)("div",{className:"info-box",children:[Object(v.jsx)("div",{className:"info-box-title",children:d.symbols}),Object(v.jsx)("div",{className:"info-box-num symbols",children:"main"===x.zone&&56==+a?m:Object(v.jsx)(E.a,{tip:m,children:m})})]}),Object(v.jsxs)("div",{className:"info-box",children:[Object(v.jsx)("div",{className:"info-box-title",children:d["contract-address"]}),Object(v.jsx)("div",{className:"info-box-num",children:Object(v.jsx)("a",{target:"_blank",rel:"noreferrer",href:`${q[a]&&q[a].viewUrl}/address/${c}`,children:Object(j.i)(c)})})]})]})]})]})}var B=a(28),L=a(1421);function A(e){let{lang:t,address:a,checkoutBaseToken:s,nowToken:n,bTokenList:c,version:l,type:o}=e;const[r,d]=Object(i.useState)([]),b=e=>{e.target.src=I.default};return Object(i.useEffect)((()=>{d(c)}),[c]),Object(v.jsxs)("div",{className:"select-basetoken-info",children:[Object(v.jsxs)("div",{className:"select-coin-title-search",children:[Object(v.jsxs)("div",{className:"select-coin-title",children:[" ",t["select-the-coin"]]}),Object(v.jsx)("div",{className:"search-box",children:Object(v.jsx)(L.a,{list:c,searchName:"bTokenSymbol",onChange:e=>d(e)})})]}),Object(v.jsxs)("div",{className:"coin-search",children:[Object(v.jsx)("div",{className:"slide-icon left",children:Object(v.jsx)(B.a,{token:"arrow-left",width:"24",height:"24"})}),Object(v.jsxs)("div",{className:"v3"===l||"v3_lite"===l?"coin-list some-coin":"coin-list",children:["lp"!==o&&"v2_lite_open"!==l&&Object(v.jsx)(v.Fragment,{children:r.map(((e,a)=>Object(v.jsxs)("div",{className:n===e.bTokenSymbol?"coin-box checked-base":"coin-box",onClick:()=>{s(e.bTokenId,e.bTokenSymbol)},children:[Object(v.jsxs)("div",{className:"base-apy-info",children:[Object(v.jsx)("div",{className:`btoken-logo ${e.bTokenSymbol}`}),Object(v.jsxs)("div",{className:"apy-base-staked",children:[Object(v.jsx)("div",{className:"base-name",children:e.bTokenSymbol}),Object(v.jsxs)("div",{className:"base-apy",children:[t.apy," \xa0 ",Object(v.jsx)(u.a,{width:"50px",value:e.apy,suffix:"%",displayType:"text",allowZero:!0,decimalScale:2}),("v3"===l||"v3_lite"===l)&&Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)("span",{children:[" +  ",Object(v.jsx)(u.a,{width:"50px",value:e.supplyApy,suffix:"%",displayType:"text",allowZero:!0,decimalScale:2}),"  + "]}),Object(v.jsx)(u.a,{width:"50px",value:e.xvsApy,suffix:"%",displayType:"text",allowZero:!0,decimalScale:2})]})]})]})]}),e.staked&&Object(v.jsx)("img",{src:$.a,alt:""})]})))}),"v2_lite_open"===l&&Object(v.jsx)(v.Fragment,{children:r.map(((e,a)=>Object(v.jsxs)("div",{className:"coin-box checked-base",onClick:()=>{s(e.bTokenId)},children:[Object(v.jsxs)("div",{className:"base-apy-info",children:[Object(v.jsx)("div",{className:`btoken-logo ${e.bTokenSymbol}`,children:Object(v.jsx)("img",{alt:"",onError:b,src:`https://raw.githubusercontent.com/deri-finance/deri-open-zone/main/img/${e.bTokenSymbol}.png`})}),Object(v.jsx)("div",{className:"apy-base-staked",children:Object(v.jsx)("div",{className:"base-name",children:e.bTokenSymbol})})]}),e.staked&&Object(v.jsxs)("div",{className:"stake",children:[Object(v.jsx)("img",{src:$.a,alt:""}),t.staked]})]})))}),"lp"===o&&c.length&&Object(v.jsx)(v.Fragment,{children:Object(v.jsx)("div",{className:"coin-box checked-base",children:Object(v.jsxs)("div",{className:"base-apy-info",children:[Object(v.jsxs)("div",{className:"lp-btoken-logo",children:[Object(v.jsx)("div",{className:`btoken-logo ${c[0].bTokenSymbol}`}),Object(v.jsx)("span",{className:"conect-logo",children:"+"}),Object(v.jsx)("div",{className:`btoken-logo ${c[1].bTokenSymbol}`})]}),Object(v.jsxs)("div",{className:"apy-base-staked",children:[Object(v.jsx)("div",{className:"base-name",children:n}),Object(v.jsxs)("div",{className:"base-apy",children:[Object(j.v)(a)&&Object(v.jsxs)(v.Fragment,{children:[t.apy," \xa0 ",Object(v.jsx)(u.a,{value:c[1].apy,suffix:"%",displayType:"text",allowZero:!0,decimalScale:2})]}),Object(j.C)(a)&&Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(E.a,{text:`${t.apy} ${(+c[1].apy).toFixed(2)} %`,tip:t["deri-apy"]}),"\xa0 + \xa0 ",Object(v.jsx)(E.a,{text:`${t.apy}  ${(+c[1].lpApy).toFixed(2)} %`,tip:t["sushi-apy"]})]})]})]})]})})})]}),Object(v.jsx)("div",{className:"slide-icon right",children:Object(v.jsx)(B.a,{token:"arrow-right",width:"24",height:"24"})})]})]})}var H=a(1637),D=a(212);const R=x.DeriEnv.get(),{chainInfo:U}=g[R];t.default=Object(c.b)("wallet","poolManager")(Object(c.c)((function(e){let{lang:t,wallet:a={},poolManager:c,getLang:o}=e;const{version:r,chainId:d,address:b,type:p}=Object(s.i)(),m=Object(l.c)(),[g,E]=Object(i.useState)(),[F,q]=Object(i.useState)(""),[B,L]=Object(i.useState)(!1),[R,z]=Object(i.useState)(""),[P,Z]=Object(i.useState)([]),[V,M]=Object(i.useState)({}),[W,G]=Object(i.useState)(0),K=Object(y.a)(),[X,J]=Object(i.useState)(""),[Q,Y]=Object(i.useState)(),[ee,te]=Object(i.useState)({}),[ae,ie]=Object(i.useState)(!1),[se,ne]=Object(i.useState)(!1),ce=U[d]&&U[d].name,le=async()=>{if(a.isConnected()){let e=[a.detail.chainId,b,a.detail.account],t=null;R.isLp?t=await h.a.request("getLpWalletBalance",e):("v3"===r||"v3_lite"===r?e.push(g):e.push(F),"v2_lite_open"===r&&await x.openConfigListCache.update(),t=await h.a.request("getBTokenBalance",e)),Y(t)}},oe=async()=>{let e=await h.a.request("getPendingReward",[a.detail.chainId,b,a.detail.account]);G(e)},re=()=>{le(),be(),je()},de=Object(i.useMemo)((()=>({[t.add]:{content:Object(v.jsx)(O,{getLang:o,poolConfig:R,isLp:p,wallet:a,afterTransaction:re,version:r,bTokenId:F,address:b,lang:t,type:"add",poolInfo:V,baseToken:g,walletBalance:Q}),style:{background:"linear-gradient(200.74deg, rgba(97, 122, 255, 0.1) -4.65%, rgba(223, 229, 255, 0) 50.94%, rgba(85, 91, 237, 0.05) 105.4%)"},borderColor:"#203B60",icon:"add-icon",iconWidth:"25",iconHeight:"25",inicon:"inactive-add",direction:"tab-left"},[t.remove]:{content:Object(v.jsx)(O,{getLang:o,isLp:p,poolConfig:R,wallet:a,afterTransaction:re,lang:t,address:b,type:"remove",bTokenId:F,poolInfo:V,balance:V,baseToken:g,version:r}),style:{background:"linear-gradient(200.74deg, rgba(97, 122, 255, 0.1) -4.65%, rgba(223, 229, 255, 0) 50.94%, rgba(85, 91, 237, 0.05) 105.4%)"},borderColor:"#203B60",icon:"remove-icon",iconWidth:"25",iconHeight:"25",iconMarginRight:"20",inicon:"inactive-remove",direction:"tab-right"}})),[t,o,R,p,a,r,F,b,g,Q,V]),be=async()=>{let e=null;if(R){let t,i,s,n,c,l,o=await R.getPoolInfo(a,R);if(o.bTokensApy&&o.bTokensLiq&&("v2"===r&&F?(c=o.bTokensApy.filter((e=>e.bTokenId===F)),t=c[0].apy,l=c[0].multiplier,n=o.bTokensLiq.filter((e=>e.bTokenId===F)),n=n[0].liquidity):"v2_lite_open"!==r&&"v3"!==r&&"v3_lite"!==r?(t=o.bTokensApy[0].apy,n=o.bTokensLiq[0].liquidity):"v3"!==r&&"v3_lite"!==r||(c=o.bTokensApy.filter((e=>e.bTokenSymbol===g)),c.length&&(t=c[0].apy,i=c[0].supplyApy,s=c[0].xvsApy,l=c[0].multiplier),n=o.bTokensLiq.filter((e=>e.bTokenSymbol===g)),n.length&&(n=n[0].liquidity)),e={total:n,apy:100*+t,supplyApy:100*+i,xvsApy:100*+s,multiplier:l}),a.isConnected()){e=await R.getLiquidityInfo(a,b,R.version,R.isLp,p,g,F),"v3"!==r&&"v3_lite"!==r||(e.supplyApy=100*+i,e.xvsApy=100*+s),e.apy=100*+t,e.multiplier=l}M(e)}},je=async()=>{if(a.isConnected()&&R){let e=await R.getIsStaked(a,R);if(e.bTokens){P.map((t=>{if("v2"===r&&"option"!==p)t.staked=e.bTokens.filter((e=>e.bTokenId===t.bTokenId))[0].isStaked;else if("v3"===r||"v3_lite"===r){let a=e.bTokens.filter((e=>e.bTokenSymbol===t.bTokenSymbol));t.staked=!!a.length&&a[0].isStaked}else t.staked=e.isStaked;return t}))}let t=[];if(P.forEach(((e,a)=>{if(e.staked)return t.push(e),void P.splice(a,1)})),P.unshift(...t),P.length){let e=P[0].bTokenSymbol;Object(j.v)(b)?e="PANCAKE-LP":Object(j.C)(b)&&(e="DERI-USDT SLP");let t=P[0].bTokenId;E(e),q(t)}}};return Object(i.useEffect)((()=>{if(a.detail.chainId&&a.detail.chainId!==d&&a.switchNetwork(K[d]),a.isConnected()){let e=window.setInterval(oe,3e4);return oe(),()=>clearInterval(e)}}),[a.detail,a]),Object(i.useEffect)((()=>{(async()=>{await c.load();let e=c.pools;"lp"===p&&(await c.loadDoubleMingingPool(),e=c.lpPools),"v2_lite_open"===r&&(await c.loadOpen(),e=c.openPools),e=e.filter((e=>e.address===b)),e=e[0];let t=e.bTokens[0].bTokenSymbol;Object(j.v)(b)?t="PANCAKE-LP":Object(j.C)(b)&&(t="DERI-USDT SLP");let a=e.symbols.map((e=>{let t=[];return t.push(e.symbol),t}));a=a.join(","),J(a),z(e),Z(e.bTokens)})()}),[]),Object(i.useEffect)((()=>{if(Y(""),P.length&&(g||F)){let e,t={};if("v2"!==r){t=P.filter((e=>e.bTokenSymbol===g))[0]}else if("v2"===r){t=P.filter((e=>e.nowTokenId===F))[0]}te(t),"v2"===r&&"option"!==p?F&&(e=P.filter((e=>e.bTokenId===F))[0].staked):"lp"!==p&&(e=P.filter((e=>e.bTokenSymbol===g))[0].staked),L(e)}}),[P,g,F]),Object(i.useEffect)((()=>{(async()=>{if(R){let e=await R.getPoolInfo(a,R);e.bTokensApy&&P.map((t=>{if("v2"===r)t.apy=100*+e.bTokensApy.filter((e=>e.bTokenId===t.bTokenId))[0].apy;else if("v2_lite_open"!==r&&"v3"!==r&&"v3_lite"!==r)t.apy=100*+e.bTokensApy[0].apy,Object(j.C)(b)&&(t.lpApy=e.lpApy);else if("v3"===r||"v3_lite"===r){let a=e.bTokensApy.find((e=>e.bTokenSymbol===t.bTokenSymbol));a&&(t.apy=100*+a.apy,t.supplyApy=(100*+a.supplyApy).toFixed(3),t.xvsApy=100*+a.xvsApy)}return t}))}})()}),[R,P]),Object(i.useEffect)((()=>{be(),le()}),[F,R,a.detail.account,g]),Object(i.useEffect)((()=>{je()}),[R,a.detail.account,P]),Object(i.useEffect)((()=>{if(a.isConnected()){let e=Object(j.m)("poolClaim"),t=sessionStorage.getItem("poolGuideThree");"true"===e?ie(!1):"3"===t&&ie(!0)}}),[a,a.detail]),Object(v.jsxs)("div",{className:"pool-detail",children:[ae&&Object(v.jsx)(H.a,{poolClaim:ae,isThree:!0}),Object(v.jsx)("div",{className:"back-pool",children:Object(v.jsx)(n.b,{to:"0x08aD0E0b4458183758fC5b9b6D27c372965fB780"===b||"0x66f501dda450C8978c4A1115D7b2A7FAa7702F05"===b||"0x574022307e60bE1f07da6Ec1cB8fE23d426e5831"===b?"/retired":"/pool",children:Object(v.jsxs)("div",{className:"icon-back",children:[Object(v.jsx)("img",{alt:"",src:k.default}),Object(v.jsx)("span",{children:t.back})]})})}),Object(v.jsxs)("div",{className:"pool-deatail-info",children:[Object(v.jsxs)("div",{className:"pool-detail-basetoken-info",children:[Object(v.jsxs)("div",{className:"pool-info-text",children:[Object(v.jsxs)("div",{className:"pool-network-type",children:[Object(v.jsx)("div",{className:"network-logo",children:Object(v.jsx)("img",{alt:"",src:(e=>{let t,a=+e;return 56===a||97===a?t=w.default:137===a?t=N.default:1===a?t=S.default:42161!==a&&421611!==a||(t=T.default),t})(d)})}),Object(v.jsxs)("div",{className:"pool-type-network-text",children:[Object(v.jsxs)("div",{className:"pool-type-text",children:["0xD2D950e338478eF7FeB092F840920B3482FcaC40"!==b&&Object(v.jsxs)(v.Fragment,{children:[t[R.type]," ",t[R.zone]]}),"0xD2D950e338478eF7FeB092F840920B3482FcaC40"===b&&Object(v.jsx)(v.Fragment,{children:t[R.zone]})]}),Object(v.jsx)("div",{className:"pool-network-text",children:ce})]})]}),Object(v.jsxs)("div",{className:"pool-des",children:["lp"!==p&&t["amm-pool-des"],"clp"===r&&Object(v.jsx)(v.Fragment,{children:t["deri-pancake-pool"]}),"slp"===r&&Object(v.jsx)(v.Fragment,{children:t["deri-sushi-pool"]}),Object(v.jsx)("br",{}),"lp"!==p?Object(v.jsx)("a",{rel:"norelerror",target:"_blank",href:"https://docs.deri.io/library/faqs/mining-faq#is-the-amm-liquidity-mining-on-deri-pools-risk-free",children:Object(v.jsxs)("span",{className:"learn-more",children:[" ",t["learn-more"]]})}):Object(v.jsx)("a",{rel:"norelerror",target:"_blank",href:"https://docs.deri.io/library/faqs/mining-faq#is-dex-liquidity-mining-on-sushiswap-sushiswap-onsen-and-pancakeswap-deri-risk-free",children:Object(v.jsxs)("span",{className:"learn-more",children:[" ",t["learn-more"]]})})]})]}),Object(v.jsx)(A,{lang:t,address:b,checkoutBaseToken:async(e,t)=>{let a;a="v3"!==r&&"v3_lite"!==r?R.bTokens.filter((t=>t.bTokenId===e)):R.bTokens.filter((e=>e.bTokenSymbol===t)),M({}),q(e),Y(""),E(a[0].bTokenSymbol),L()},nowToken:g,bTokenList:P,version:r,type:p})]}),Object(v.jsxs)("div",{className:"pool-detail-add-remove-info",children:[Object(v.jsxs)("div",{className:"mining-deri-liquidity",children:[Object(v.jsxs)("div",{className:"btoken-liquidity",children:["lp"!==p&&Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("div",{className:`btoken-logo ${g}`,children:"v2_lite_open"===r&&Object(v.jsx)(v.Fragment,{children:Object(v.jsx)("img",{alt:"",onError:e=>{e.target.src=I.default},src:`https://raw.githubusercontent.com/deri-io/deri-open-zone/main/img/${g}.png`})})}),Object(v.jsxs)("div",{className:"manage-stake",children:[Object(v.jsxs)("div",{className:"manage",children:[t.manage," ",g," ",t.liquidity]}),B&&Object(v.jsxs)("div",{className:"stake",children:[Object(v.jsx)("img",{src:$.a,alt:""}),t.staked]})]})]}),"lp"===p&&P.length&&Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)("div",{className:"lp-btoken-logo",children:[Object(v.jsx)("div",{className:`btoken-logo ${P[0].bTokenSymbol}`}),Object(v.jsx)("span",{className:"conect-logo",children:"+"}),Object(v.jsx)("div",{className:`btoken-logo ${P[1].bTokenSymbol}`})]}),Object(v.jsxs)("div",{className:"manage-stake",children:[Object(v.jsxs)("div",{className:"manage",children:[t.manage," ",g," ",t.liquidity]}),B&&Object(v.jsxs)("div",{className:"stake",children:[Object(v.jsx)("img",{src:$.a,alt:""}),t.staked]})]})]})]}),Object(v.jsx)("div",{className:"deri-current-epoch",children:"v2_lite_open"!==r&&Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)("div",{className:"mining-pool-claim",children:[Object(j.x)(b)&&Object(v.jsx)(v.Fragment,{}),Object(v.jsxs)("div",{className:"mining-claim-info",children:[Object(v.jsxs)("span",{children:[" ",t["you-have"]]}),Object(v.jsxs)("span",{className:(0===+W?"no-deri":"")+" mining-pool-num",onClick:async()=>{if(0===+W)return void m.error(t["no-deri-to-claim-yet"]);ne(!0);let e=await h.a.request("claimReward",[a.detail.chainId,b,a.detail.account],{includeResponse:!0,write:!0,subject:t["claim-deri-title"]});return oe(),ne(!1),e.success?(m.success(t["claim-deri-reward"],{timeout:8e3,isTransaction:!0,transactionHash:e.response.data.transactionHash,link:`${a.blockExploreUrl}/tx/${e.response.data.transactionHash}`,title:t["claim-reward-executed"]}),!0):(""===e.response.transactionHash||m.error(`${t["transaction-failed"]} : ${e.response.error}`,{timeout:3e5,isTransaction:!0,transactionHash:e.response.transactionHash,link:`${a.blockExploreUrl}/tx/${e.response.transactionHash}`,title:t["claim-reward-failed"]}),!1)},children:[se&&Object(v.jsx)(D.a,{}),Object(v.jsx)(u.a,{value:W,decimalScale:2}),Object(v.jsx)("img",{src:C})]}),Object(v.jsx)("span",{children:o("claim-in-pool",{name:`${"undefined"===t[R.type]?t[R.type]:""} ${R.zone?t[R.zone]:""}`})})]})]})})})]}),Object(v.jsxs)("div",{className:"mining-add-remove-liquidity",children:[Object(v.jsx)(_,{wallet:a,nowApy:ee,poolInfo:V,chainId:d,address:b,nowToken:g,lang:t,poolInfo:V,version:r,type:p,poolConfig:R,symbols:X}),Object(v.jsx)("div",{className:"add-remove-liquidity",children:Object(v.jsx)(f.a,{tabSet:de,iconMarginRight:"20",width:379,size:18,inactiveBgColor:"#0c192d",icon:"",borderBottom:!0,divider:!0})})]})]})]})]})})))}}]);
//# sourceMappingURL=19.7527ca30.chunk.js.map