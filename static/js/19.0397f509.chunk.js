(this["webpackJsonpderi-client"]=this["webpackJsonpderi-client"]||[]).push([[19],{1220:function(e,t,a){"use strict";var n,i,s=a(24),c=a(1216),r=a(68),o=a(15),l=a(140),d=a(6),b=(a(64),a(1283)),u=a(51),j=a(20),p=a(11),h=a(4),x=["allowZero","wallet","closeShowLoadingEffectAfterLoaded","defaultValue"],f=Object(u.a)(b.a)(n||(n=Object(l.a)(["\n  width : ","px;\n"])),(function(e){return e.width})),m=u.a.div(i||(i=Object(l.a)(["\n  width : ",";\n  height : ",";\n"])),(function(e){return/px$/.test(e.width)?e.width:"".concat(e.width,"px")}),(function(e){return/px$/.test(e.height)?e.height:"".concat(e.height,"px")}));t.a=function(e){var t=Object(d.useState)(Object(h.jsx)("span",{className:"loading-line"})),a=Object(o.a)(t,2),n=a[0],i=a[1],l=Object(d.useState)(!0),b=Object(o.a)(l,2),u=b[0],v=b[1],O=function(){var t=e.allowZero;return"object"!==Object(r.a)(e.value)&&void 0!==e.value&&""!==e.value&&!isNaN(e.value)&&"NaN"!==e.value||0===Math.abs(e.value)&&!0===t},g=function(e){return e&&e.replace(/\.$/,"")};return Object(d.useEffect)((function(){var t=e.allowZero,a=(e.wallet,e.closeShowLoadingEffectAfterLoaded),n=e.defaultValue,r=void 0===n?"--":n,o=Object(c.a)(e,x);if(O())o.decimalScale>0&&o.value&&/\d+\.0*[1-9]+/.test(o.value)&&0===+Object(p.bg)(o.value).toFixed(+o.decimalScale||2)&&(o.decimalScale=Object(j.d)(Math.abs(o.value))+2),(-1===o.decimalScale||0===+o.value&&t)&&delete o.decimalScale,o.value=Object(j.K)(o.value),o.value&&/\d+.9{6}/.test(o.value)&&(o.value=(+o.value).toFixed(5)),i(Object(h.jsx)(f,Object(s.a)(Object(s.a)({},o),{},{renderText:g,displayType:"text",fixedDecimalScale:!0,thousandSeparator:!0})));else if(u){var l=e.width,d=e.height;i(Object(h.jsx)(m,{className:"loading-line",width:l,height:d})),a&&v(!1)}var b=window.setTimeout((function(){O()||i(r)}),6e4);return function(){clearTimeout(b)}}),[e.value,e.decimalScale,e.suffix]),n}},1231:function(e,t,a){"use strict";a.d(t,"a",(function(){return b}));var n=a(51),i=a(1327),s=a.n(i),c=a(142),r=a(20),o=a(1303),l=a(4);const d=n.a.div`
  display:${e=>e.block};
  .text {
    border-bottom : 1px dashed #93A1B8;
    width : max-content;
    cursor : pointer;
    display:${e=>e.block}
  }
  
  .__react_component_tooltip.tooltip.show {
    font-weight : ${e=>e.isWin?400:600} 
  }
`;function b(e){let{text:t,id:a=String((new Date).getTime())+Math.random(),tip:n,multiline:i,html:b,className:u,element:j="",block:p="block",width:h="auto",children:x,tiggerEvent:f}=e;return Object(l.jsxs)(d,{className:u,block:p,isWin:o.isWindows,children:[Object(l.jsx)("div",{className:"text","data-for":a,"data-tip":b?s.a.renderToString(j):n,"data-event":Object(r.z)()?"click":f,"data-html":b,children:t||x}),n&&Object(l.jsx)(c.a,{id:a,width:h,padding:"12",place:"bottom",overridePosition:(e,t,a,n,i,s,c,r)=>{const o=a.getBoundingClientRect(),l=n.getBoundingClientRect();let{x:d,y:b,height:u,width:j}=o;const{left:p,top:h}=e;return d+l.width/2>document.documentElement.clientWidth?d-=Math.abs(j-l.width):d-(l.width-j)/2<0?d-=j:d-=(l.width-j)/2,b+u+l.height>=document.documentElement.clientHeight?b=b+u-l.height:b+=u,d<0&&(d=0),b<0&&(b=0),{top:b,left:d}},html:b,borderRadius:8,multiline:i})]})}},1279:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(6),i=a(164),s=a(51),c=a(4);const r=s.a.div`
    display : flex;
    width: 100%;
    justify-content: space-between;
  `;function o(e){let{groups:t=["25%","50%","75%","100%"],selectedBorderColor:a,defaultBorderColor:s,onChange:o,defaultValue:l,outline:d,outlineColor:b,width:u,height:j,bgColor:p,className:h,disabled:x,canUnselected:f=!0}=e;const[m,v]=Object(n.useState)(l);return Object(n.useEffect)((()=>{v(l)}),[l]),Object(c.jsx)(r,{className:h,children:t.map(((e,t)=>Object(c.jsx)(i.a,{label:e,selectedBorderColor:a,isSelected:e===m,disabled:x,outline:d,bgColor:p,className:"g-button",defaultBorderColor:s,outlineColor:b,width:u,height:j,onClick:()=>{var t;(t=e)!==m?(v(t),o&&o(t)):f&&t===m?(v(""),o&&o("")):v(t)}},t)))})}},1328:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var n,i=a(24),s=a(140),c=a(6),r=a(51),o=a(11),l=a(1231),d=a(4),b=r.a.div(n||(n=Object(s.a)(["\ndisplay : flex;\nfont-size : 14px;\nalign-items : center;\nbackground: rgba(85, 119, 253, 0.1);\nborder-radius: 4px;\njustify-content: space-between;\ninput {\n  background: transparent;\n  border-radius: 4px;\n  // min-width: 240px;\n  border: 0;\n  width : ",";\n  height: ",";\n  color : #E0ECFF;\n  font-size : 18px;\n  padding-left: 16px;\n}\ninput:focus {\n  outline: none;\n}\n.unit {\n  margin-right: ",";\n}\n"])),(function(e){return e.inputWidth}),(function(e){return e.inputHeight}),(function(e){return e.unitPadding}));function u(e){var t=e.value,a=e.unit,n=e.unitTip,s=e.max,r=e.step,u=e.onChange,j=e.styles,p=void 0===j?{}:j,h=e.disableNegtive,x=void 0===h||h,f=e.focus,m=e.placeholder,v=void 0===m?"":m,O=e.unitPadding,g=void 0===O?"24px":O,k=e.minTradeVolume,y=e.decimal,w=void 0===y?2:y,N=e.readOnly,S=e.inputWidth,T=void 0===S?"50%":S,C=e.inputHeight,I=void 0===C?"56px":C,$=e.className,q=e.disabled,E=void 0!==q&&q,F=e.onBlur,_=e.onFocus,B=Object(c.useRef)(null);return Object(c.useEffect)((function(){B.current.setCustomValidity(""),B.current&&f&&B.current.focus()}),[f]),Object(d.jsxs)(b,{unitPadding:g,inputWidth:T,inputHeight:I,className:$,style:Object(i.a)({},p),children:[Object(d.jsx)("input",{placeholder:v,type:"number",onBlur:F,onFocus:_,disabled:E,value:t,step:r,ref:B,onChange:function(e){var t="\\d+\\.\\d{0,".concat(w,"}$"),a=new RegExp(t),n=e.target.value;if(s&&Object(o.bg)(n).gt(s))u&&u(s);else if(x&&(n<0||isNaN(n)))u&&u("");else if(n){if(k>=1)if(n/k>=1)u&&u(Object(o.bg)(n).div(k).integerValue()*k);else u&&u(n*k);else if(/\d+\./.test(n)&&!a.test(n)){var i=n.substring(0,n.indexOf(".")+1+w);u&&u(i)}else u&&u(n)}else u&&u(n)},readOnly:N}),Object(d.jsx)("div",{className:"unit",children:n?Object(d.jsx)(l.a,{tip:n,text:a}):a})]})}},1373:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(51),i=a(6),s=a(29),c=a(4);const r=n.a.div`
    cursor: pointer;
    width:${e=>e.width}px;
    height:${e=>e.height}px;
    display:flex;
    .tab-left.inactive{
      border-radius:0px 0px 4px 0px;
    }
    .tab-right.inactive{
      border-radius:0px 0px 0px 4px;
    }
    .tab-left.active{
      border-radius:0px 4px 0px 0px;
      ${e=>e.borderR};
    }
    .tab-right.active{
      border-radius:4px 0px 0px 0px;
      ${e=>e.borderL};
    }
    .inactive,.active{
      width:50%;
      box-sizing: content-box;
      font-size:${e=>e.size}px;
      display: flex;
      align-items: center;
      justify-content: center;
      img{
        margin-right:${e=>e.iconMarginRight}px
      }
    }
    .inactive{
      background:${e=>e.inactiveBgColor};
      ${e=>e.borderB}
    }
    .active {
      color: ${e=>e.activeFontColor};
      background : ${e=>e.activeBgColor};
      ${e=>e.borderT};
    }
    .icon-tab{
      margin-right:20px;
      width:25px;
      height:25px;
    }
  `;function o(e){let{tabSet:t,inactiveBgColor:a,iconMarginRight:n,activeBgColor:o,icon:l,className:d,width:b=238,height:u=47,size:j=16,borderTop:p=!1,borderBottom:h=!1,divider:x=!1,activeIndex:f=0}=e,m=Object.keys(t);const[v,O]=Object(i.useState)(m[f]),[g,k]=Object(i.useState)(),[y,w]=Object(i.useState)(),[N,S]=Object(i.useState)(),[T,C]=Object(i.useState)(),[I,$]=Object(i.useState)(),[q,E]=Object(i.useState)();return Object(i.useEffect)((()=>{const e=Object.keys(t);O(e[f])}),[t,f]),Object(i.useEffect)((()=>{const e=Object.keys(t);let a=v||e[f];if(t[a]){k(t[a].style);let e=p?`border-top:1px solid ${t[a].borderColor}`:"border-top:0",n=h?`border-bottom:1px solid ${t[a].borderColor}`:"border-bottom:0",i=x?`border-left:1px solid ${t[a].borderColor}`:"border-left:0",s=x?`border-right:1px solid ${t[a].borderColor}`:"border-right:0",c=t[a].fontColor?t[a].fontColor:"#FFFFFF";w(e),S(i),C(n),$(s),E(c)}}),[t,v]),Object(c.jsxs)("div",{style:g,className:d,children:[Object(c.jsx)(r,{className:"tab-header",iconMarginRight:n,width:b,height:u,activeFontColor:q,activeBgColor:o,inactiveBgColor:a,size:j,borderT:y,borderB:T,borderL:N,borderR:I,children:m.map(((e,a)=>Object(c.jsxs)("div",{className:e===v?`${t[e].direction||t[e].className} active`:`${t[e].direction||t[e].className} inactive`,onClick:t=>function(e,t){O(e)}(e),children:[t[e].icon?Object(c.jsx)(s.a,{width:t[e].iconWidth,height:t[e].iconHeight,token:e===v?t[e].icon:t[e].inicon}):"","  ",e]},a)))}),t[v]?t[v].content:""]})}},1396:function(e,t,a){"use strict";t.a=a.p+"static/media/staked.45c27f0b.svg"},1410:function(e,t,a){"use strict";var n=a(6),i=a(164),s=a(47),c=a(122),r=a(39),o=a(11),l=a(20),d=(a(1647),a(4));function b(){return Object(d.jsx)("div",{class:"sleepContentView",children:Object(d.jsx)("div",{class:"circle"})})}var u=a(29);a(1648);t.a=Object(s.b)("wallet")(Object(s.c)((function(e){let{lang:t,subject:a,wallet:s,pool:j={},ignoreApprove:p,bTokenId:h,bToken:x,icon:f,label:m,onClick:v,isReady:O,disabled:g=!0,statusCallback:k,alert:y,...w}=e;const[N,S]=Object(n.useState)(!0),[T,C]=Object(n.useState)(m),[I,$]=Object(n.useState)(!1),[q,E]=Object(n.useState)(!1),[F,_]=Object(n.useState)(!1),[B,L]=Object(n.useState)(!1),[H,A]=Object(n.useState)(f),R=Object(n.useCallback)((async(e,t)=>{let a;if(e.detail&&t.address)if(c.a.isOpen&&await o.openConfigListCache.update(),Object(l.y)(t.address))a=await r.a.request("isLpUnlocked",[e.detail.chainId,t.address,e.detail.account]);else if(h||x){const n=[e.detail.chainId,t.address,e.detail.account,h||x];a=await r.a.request("isUnlocked",n)}return a}),[x,h]),U=Object(n.useCallback)((async()=>{if(s&&j){let e;if(c.a.isOpen&&await o.openConfigListCache.update(),Object(l.y)(j.address))e=await r.a.request("unlockLp",[s.detail.chainId,j.address,s.detail.account],{write:!0,subject:t.approve});else{let a=[s.detail.chainId,j.address,s.detail.account,h||x];e=await r.a.request("unlock",a,{write:!0,subject:Object(l.h)(t.approve.toLowerCase())})}if(e){if(e.status)y.success(`Approve ${x}`,{timeout:8e3,isTransaction:!0,transactionHash:e.transactionHash,link:`${s.blockExploreUrl}/tx/${e.transactionHash}`,title:"Approve Executed"});else{if(""===e.transactionHash)return!1;y.error(`Transaction Failed ${e.error}`,{timeout:3e5,isTransaction:!0,transactionHash:e.transactionHash,link:`${s.blockExploreUrl}/tx/${e.transactionHash}`,title:"Approve Failed"})}return e.status}}}),[j,s,h,x]);return Object(n.useEffect)((async()=>{j&&s.detail&&s.detail.account&&j.bTokens&&t&&(s.isConnected()?await R(s,j)?($(!1),C(m),A(f),k&&k(!1)):($(!0),A(f),k&&k(!0)):(C(t["connect-wallet"]),A(null)))}),[j,s,t,x,h]),Object(n.useEffect)((()=>{S(!g)}),[g]),Object(n.useEffect)((()=>{s&&j&&j.address&&(s.setAddress(j.address),j.isV3||j.isV3Lite?s.setBToken(x):s.setBTokenId(h))}),[s,j,h,x]),Object(d.jsxs)("div",{children:[Object(d.jsx)(i.a,{...w,disabled:!N,label:T,onClick:async e=>{if(j&&s&&s.detail){if(L(!0),s.isConnected()){if(p||await R(s,j))return A(f),v(e);{A(f);let e=await U();if(e){E(!0),await v()&&_(!0),k&&k(!1)}else L(!1),k&&k(!0);return e}}return A(null),s.connect()}},icon:H}),!p&&I&&N&&Object(d.jsxs)("div",{className:"init-approve",children:[Object(d.jsxs)("div",{className:"step-approve",children:[!B&&Object(d.jsx)("div",{className:"step-one",children:"1"}),B&&Object(d.jsx)("div",{className:"pending",children:q?Object(d.jsx)(u.a,{token:"finish"}):Object(d.jsx)(b,{})}),Object(d.jsx)("div",{className:q?"approve-text finish-text":"approve-text",children:t.approve})]}),Object(d.jsx)("div",{className:q?"step-hr finish":"step-hr"}),Object(d.jsxs)("div",{className:"step-transaction",children:[!q&&Object(d.jsx)("div",{className:"step-two",children:"2"}),B&&q&&Object(d.jsx)("div",{className:"pending",children:F?Object(d.jsx)(u.a,{token:"finish"}):Object(d.jsx)(b,{})}),Object(d.jsx)("div",{className:F?"transaction-text finish-text":"transaction-text",children:T})]})]})]})})))},1423:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(51),i=(a(6),a(4));const s=n.a.div`
width:${e=>e.width}%;
max-width:100%;
height:10px;
background-color: #5577FD;
`;function c(e){let{startTimestamp:t,nowTimestamp:a,endTimestamp:n}=e;const c=parseInt((a-t)/(n-t)*100);return Object(i.jsx)("div",{className:"time-slider",children:Object(i.jsx)(s,{width:c})})}},1428:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(6),i=a(51),s=a(463),c=a(4);const r=i.a.div`
  .search-token{
  width: ${e=>e.width}px;
  height: ${e=>e.height}px;
  background: ${e=>e.bgColor};
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding:0 24px;
  border-radius:4px;
  img{
    width:18px;
    height:18px;
  }
  .search-input{
    border: 0;
    width:100%;
    height: 100%;
    background:transparent;
    outline-style: none;
    color: #FFFFFF;
    font-size: 18px;
    border-radius: 4px;
  }
}
`;function o(e){let{list:t,onChange:a,width:i="320",height:o="48",bgColor:l="rgba(85, 119, 253, 0.1)",searchName:d="bTokenSymbol",className:b,placeholder:u="Search",onFocus:j,onBlur:p}=e;const[h,x]=Object(n.useState)(""),[f,m]=Object(n.useState)(0),v=Object(n.useRef)([]);return Object(n.useEffect)((()=>{if(h){let e=h.toLocaleUpperCase();0===v.current.length&&(v.current=t,m(t.length));const n=v.current.filter((t=>t[d]&&t[d].toUpperCase().indexOf(e)>=0));a(n,e)}else a(v.current)}),[h]),Object(n.useEffect)((()=>{0===v.current.length&&m(t.length)}),[t]),Object(c.jsx)(r,{width:i,height:o,bgColor:l,className:b,children:Object(c.jsxs)("div",{className:"search-token",children:[Object(c.jsx)("input",{type:"text",className:"search-input",placeholder:u,value:h,onChange:e=>{(e=>{let t=e.target.value;x(t)})(e)}}),Object(c.jsx)("img",{src:s.default,alt:""})]})})}},1635:function(e,t,a){},1644:function(e,t,a){"use strict";a(55),a(20),a(1560),a(1542),a(1646),a(166),a(4)},1646:function(e,t,a){},1647:function(e,t,a){},1648:function(e,t,a){},1649:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var n=a(6),i=(a(39),a(51)),s=a(29),c=a(1231),r=a(1220),o=a(4);const l=i.a.div`
  .remove-hint{
    cursor: pointer;
    .text{
      display: flex;
      border:0;
    }
    span{
      margin-left:8px;
    }
  }
`;function d(e){let{lang:t,wallet:a,baseToken:i,penalty:d,isB0Staked:b,availableBalance:u,getLang:j}=e;const[p,h]=Object(n.useState)("");return Object(n.useEffect)((()=>{let e,n=56===+a.detail.chainId||97===+a.detail.chainId?"BUSD":"USDC",s={num:i,name:n},c={name:n};e=b?"BUSD"===i||"USDC"===i?`${t["your-account-has-an-unsettled-balance-of"]} ${d} ${n} ${j("this-action-will-update-your",c)}`:`${t["your-account-has-an-unsettled-balance-of"]} ${d} ${n} ${j("this-action-will-trigger-swapping-to-update-your",s)}`:`${t["your-account-has-an-unsettled-balance-of"]} ${d} ${n} ${j("this-action-will-trigger-swapping-to-update-your-busd-balance-to-reflect-the-unsettled-amount",s)}`,h(e)}),[b,d,i]),Object(o.jsx)(l,{children:+d<0&&+u>0&&Object(o.jsx)("div",{className:"remove-hint",children:Object(o.jsxs)(c.a,{tip:p,width:"332",children:[Object(o.jsx)(s.a,{token:"warn"})," ",Object(o.jsxs)("span",{children:[t["negative-unsettled-balance"]," : ",Object(o.jsx)(r.a,{value:d,decimalScale:2})," BUSD"]})]})})})}},2070:function(e,t,a){},2071:function(e,t,a){},2336:function(e,t,a){"use strict";a.r(t);var n=a(118),i=a(2),s=a(15),c=a(1),r=a.n(c),o=a(6),l=a(55),d=a(47),b=a(165),u=a(1328),j=a(1410),p=a(1279),h=a(20),x=a(1220),f=a(10),m=a(39),v=(a(2070),a(11)),O=a(1649),g=a(4);function k(e){let{getLang:t,wallet:a,lang:n,type:i,isLp:s,bTokenId:c,poolConfig:r,version:l,baseToken:d,address:k,walletBalance:y,poolInfo:w,afterTransaction:N}=e;const[S,T]=Object(o.useState)(""),[C,I]=Object(o.useState)(!1),[$,q]=Object(o.useState)(""),[E,F]=Object(o.useState)(!1),[_,B]=Object(o.useState)(""),[L,H]=Object(o.useState)(!1),A=Object(b.c)(),[R,U]=Object(o.useState)({}),D="add"===i||"v2"===l||"v3"===l||"v3_lite"===l?d:n.shares;return Object(o.useEffect)((()=>{let e="add"===i?Object(v.bg)(y):Object(v.bg)(w.totalShares);/\d+\.(999999|099999|009999|000999|000099|000009)/.test(e)&&(e=Object(v.bg)((+y).toFixed(5)));const t=Object(v.bg)(S);S&&0!==+S&&!t.gt(e)?((async()=>{let e,t="add"===i?S:Object(v.bg)(S).times(Object(v.bg)(-1)).toString();e="v3"===l||"v3_lite"===l?[a.detail.chainId,k,a.detail.account,t,d]:[a.detail.chainId,k,a.detail.account,t,c];let n=await m.a.request("getEstimatedLiquidityInfo",e);+n.percentage1<0&&(n.percentage1=0,n.shares1=0),U(n)})(),F(!1)):F(!0)}),[S,i,w,y]),Object(o.useEffect)((()=>{T(""),q("")}),[i,c,d]),Object(o.useEffect)((()=>{a.isConnected()&&(async()=>{if(d){let e=await m.a.request("getEstimatedLpInfo",[a.detail.chainId,k,a.detail.account,d]);B(e.b0Penalty),H(e.isB0Staked)}})()}),[a.detail,d,k]),Object(g.jsxs)("div",{className:"operate",children:[Object(g.jsx)("div",{className:"add-input",children:Object(g.jsx)(u.a,{value:S,unit:D,onChange:e=>{T(e)},inputWidth:"237px",styles:{"min-width":"332px"}})}),"add"===i&&Object(g.jsxs)("div",{className:"wallet-balance",children:[n["wallet-balance"],": ",Object(g.jsx)(x.a,{value:y,displayType:"text",decimalScale:2})," ",d]}),"remove"===i&&Object(g.jsxs)("div",{className:"wallet-balance",children:[n["staked-balance"],": ",Object(g.jsx)(x.a,{value:w.totalShares,displayType:"text",decimalScale:2})," ",D]}),"remove"===i&&Object(g.jsx)("div",{children:Object(g.jsx)(O.a,{getLang:t,lang:n,baseToken:d,wallet:a,penalty:_,isB0Staked:L})}),Object(g.jsx)("div",{className:"check-proportion",children:Object(g.jsx)(p.a,{outline:!0,defaultValue:$,onChange:e=>{let t="add"===i?y:w.totalShares,a=Object(h.F)(e,t);q(e),T(a),q(e),I("100%"===e)},bgColor:" rgba(85, 119, 253, 0.1)",width:77,height:40})}),Object(g.jsx)("div",{className:"information",children:0!==+S&&Object(g.jsxs)("div",{children:[Object(g.jsxs)("div",{className:"percentage",children:[Object(g.jsx)("div",{className:"info-box-title",children:n["my-liquidity-percentage"]}),Object(g.jsxs)("div",{className:"info-box-num",children:[Object(g.jsx)(x.a,{allowZero:!0,width:"80px",value:w.percent,decimalScale:2,suffix:"%"})," ->  ",Object(g.jsx)(x.a,{width:"80px",allowZero:!0,value:100*R.percentage1,decimalScale:2,suffix:"%"})]})]}),Object(g.jsxs)("div",{className:"staked-balance",children:[Object(g.jsx)("div",{className:"info-box-title",children:n["staked-balance"]}),Object(g.jsxs)("div",{className:"info-box-num",children:[Object(g.jsx)(x.a,{width:"80px",allowZero:!0,value:w.formatShares,decimalScale:2})," -> ",Object(g.jsx)(x.a,{width:"80px",allowZero:!0,value:R.shares1,decimalScale:2}),"v2"===l||"v3"===l||"v3_lite"===l?" "+d:" "+n.shares]})]})]})}),Object(g.jsxs)("div",{className:"add-remove-btn",children:["add"===i&&Object(g.jsx)(j.a,{alert:A,disabled:E,fontWeight:"bold",onClick:async()=>{const e=Object(v.bg)(y);if(Object(v.bg)(S).gt(e))return A.error(n["not-sufficient-funds"]),!1;if(S<=0||isNaN(S))return A.error(n["it-has-to-be-greater-than-zero"]),!1;let i;if("lp"===s){let e=[a.detail.chainId,k,a.detail.account,S];i=await m.a.request("addLpLiquidity",e,{includeResponse:!0,write:!0,subject:n["add-liquidity"]})}else{let e;e="v3"===l||"v3_lite"===l?[a.detail.chainId,k,a.detail.account,S,d]:[a.detail.chainId,k,a.detail.account,S,c],i=await m.a.request("addLiquidity",e,{includeResponse:!0,write:!0,subject:n["add-liquidity"]})}return N(!0),T(""),i&&i.success?(A.success(`${t("add-baseToken-liquidity",{baseToken:d})}`,{timeout:8e3,isTransaction:!0,transactionHash:i.response.data.transactionHash,link:`${a.blockExploreUrl}/tx/${i.response.data.transactionHash}`,title:n["add-liquidity-executed"]}),!0):(""===i.response.transactionHash||A.error(`${n["transaction-failed"]} : ${i.response.error}`,{timeout:3e5,isTransaction:!0,transactionHash:i.response.transactionHash,link:`${a.blockExploreUrl}/tx/${i.response.transactionHash}`,title:n["add-liquidity-failed"]}),!1)},bToken:d,pool:r,wallet:a,bTokenId:c,fontSize:"18",type:f.o,width:"331",label:n["add-liquidity"],lang:n}),"remove"===i&&Object(g.jsx)(j.a,{alert:A,disabled:E,fontWeight:"bold",onClick:async()=>{const e=Object(v.bg)(w.totalShares);let i;i=C?w.totalShares:S;const r=Object(v.bg)(i);if(r.gt(e))return A.error(`${n["your-current-max-removable-shares-are"]}  ${w.totalShares}`),!1;if(+i<=0||isNaN(S))return A.error(n["invalid-liquidity"]),!1;let o;if("lp"===s){let e=[a.detail.chainId,k,a.detail.account,i];o=await m.a.request("removeLpLiquidity",e,{includeResponse:!0,write:!0,subject:n["remove-liquidity"]})}else{let t;t="v3"===l||"v3_lite"===l?[a.detail.chainId,k,a.detail.account,i,d,e.eq(r)]:[a.detail.chainId,k,a.detail.account,i,c,e.eq(r)],o=await m.a.request("removeLiquidity",t,{includeResponse:!0,write:!0,subject:n["remove-liquidity"]})}if(o&&o.success)A.success(`${t("remove-baseToken-liquidity",{baseToken:d})}`,{timeout:5e3,isTransaction:!0,transactionHash:o.response.data.transactionHash,link:`${a.blockExploreUrl}/tx/${o.response.data.transactionHash}`,title:n["remove-liquidity-executed"]});else{if(""===o.response.transactionHash)return!1;A.error(`${n["transaction-failed"]} : ${o.response.error}`,{timeout:3e5,isTransaction:!0,transactionHash:o.response.transactionHash,link:`${a.blockExploreUrl}/tx/${o.response.transactionHash}`,title:n["remove-liquidity-failed"]})}return T(""),N(),!0},bToken:d,pool:r,type:f.o,wallet:a,bTokenId:c,fontSize:"18",width:"331",label:n["remove-liquidity"],lang:n})]})]})}var y=a(1373),w=a(104),N=a(169),S=(a(2071),a(1635),a(458)),T=a(453),C=a(456),I=a(452),$=a(455),q=a.p+"static/media/deri.520d2449.svg",E=a(1396),F=a(457),_=a(1231),B=a(287),L=a(164),H=w[v.DeriEnv.get()].chainInfo;function A(e){var t=e.wallet,a=e.chainId,n=e.nowApy,c=e.poolInfo,l=e.address,d=e.nowToken,u=e.lang,j=e.version,p=e.type,f=e.poolConfig,v=e.symbols,O=Object(o.useState)("show"),k=Object(s.a)(O,2),y=k[0],w=k[1],N=Object(o.useState)(),S=Object(s.a)(N,2),T=S[0],C=S[1],I=Object(b.c)(),$=function(){var e=Object(i.a)(r.a.mark((function e(){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("poolConfig",f),!f){e.next=7;break}return e.next=4,f.getVenusEarned(t,l);case 4:a=e.sent,C(a=+a);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),q=function(){var e=Object(i.a)(r.a.mark((function e(){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.request("claimXVSLp",[t.detail.chainId,l,t.detail.account],{includeResponse:!0,write:!0,subject:u["claim-XVS"]});case 2:if((a=e.sent)&&a.success){e.next=9;break}if(""!==a.response.transactionHash){e.next=6;break}return e.abrupt("return",!1);case 6:I.error("".concat(u["transaction-failed"]," : ").concat(a.response.error),{timeout:3e5,isTransaction:!0,transactionHash:a.response.transactionHash,link:"".concat(t.blockExploreUrl,"/tx/").concat(a.response.transactionHash),title:u["claim-reward-executed"]}),e.next=10;break;case 9:I.success(u["claim-XVS-reward"],{timeout:8e3,isTransaction:!0,transactionHash:a.response.data.transactionHash,link:"".concat(t.blockExploreUrl,"/tx/").concat(a.response.data.transactionHash),title:u["claim-reward-failed"]});case 10:$();case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(o.useEffect)((function(){if(t.isConnected()&&("v3"===j||"v3_lite"===j)){var e;return $(),e=window.setInterval((function(){$()}),18e4),function(){e&&clearInterval(e)}}}),[t,t.detail,f]),Object(g.jsxs)("div",{className:"pool-info",children:[Object(g.jsxs)("div",{className:"pool-info-title",children:[Object(g.jsx)("div",{className:"pool-info-title-text",children:u["pool-info"]}),Object(g.jsxs)("div",{className:"down-up",children:["show"===y&&Object(g.jsx)("span",{onClick:function(){return w("hide")},children:Object(g.jsx)("img",{className:"up-icon",alt:"",src:B.default})}),"hide"===y&&Object(g.jsx)("span",{onClick:function(){return w("show")},children:Object(g.jsx)("img",{alt:"",src:B.default})})]})]}),Object(g.jsxs)("div",{className:"'pool-info-text' ".concat(y),children:[Object(g.jsxs)("div",{className:"pool-info-text-one",children:["v2_lite_open"!==j&&Object(g.jsxs)("div",{className:"info-box",children:[Object(g.jsx)("div",{className:"info-box-title",children:u.apy}),Object(g.jsxs)("div",{className:"info-box-num",children:["v3"!==j&&"v3_lite"!==j&&Object(g.jsx)(x.a,{value:c.apy,displayType:"text",decimalScale:2,suffix:"%"}),("v3"===j||"v3_lite"===j)&&Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(_.a,{text:Object(g.jsx)(x.a,{width:"50px",value:n.apy,displayType:"text",decimalScale:2,suffix:"%"}),tip:u["deri-apy"]}),"\xa0 +  \xa0  ",Object(g.jsx)(_.a,{text:Object(g.jsx)(x.a,{width:"50px",value:n.supplyApy,displayType:"text",decimalScale:2,suffix:"%"}),tip:u["venus-suppy-apy"]}),"  \xa0 +  \xa0",Object(g.jsx)(_.a,{text:Object(g.jsx)(x.a,{width:"50px",value:n.xvsApy,displayType:"text",decimalScale:2,suffix:"%"}),tip:u["xvs-distribution-apy"]})]})]})]}),Object(g.jsxs)("div",{className:"info-box",children:[Object(g.jsx)("div",{className:"info-box-title",children:u["pool-liquidity"]}),Object(g.jsxs)("div",{className:"info-box-num",children:[Object(g.jsx)(x.a,{value:c.total,displayType:"text",decimalScale:2,thousandSeparator:!0})," ","v3"===j||"v3_lite"===j?56===+a||97===+a?"BUSD":"USDC":d]})]}),("v2"===j||"v3"===j||"v3_lite"===j)&&!("option"===p&&"v2"===j)&&Object(g.jsxs)("div",{className:"info-box",children:[Object(g.jsx)("div",{className:"info-box-title",children:u.multiplier}),Object(g.jsx)("div",{className:"info-box-num",children:c.multiplier})]}),Object(g.jsxs)("div",{className:"info-box",children:[Object(g.jsx)("div",{className:"info-box-title",children:u["my-liquidity-percentage"]}),Object(g.jsx)("div",{className:"info-box-num",children:Object(g.jsx)(x.a,{allowZero:!0,value:c.percent,decimalScale:2,suffix:"%"})})]}),("v2"!==j&&"v3"!==j&&"v3_lite"!==j||"v2"===j&&"option"===p)&&Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)("div",{className:"info-box",children:[Object(g.jsx)("div",{className:"info-box-title",children:u["liquidity-share-value"]}),Object(g.jsxs)("div",{className:"info-box-num",children:[Object(g.jsx)(x.a,{allowZero:!0,decimalScale:6,value:c.shareValue,thousandSeparator:!0})," ",d]})]})}),Object(g.jsxs)("div",{className:"info-box",children:[Object(g.jsx)("div",{className:"info-box-title",children:u["staked-balance"]}),Object(g.jsxs)("div",{className:"info-box-num",children:[Object(g.jsx)(x.a,{allowZero:!0,value:c.formatShares,decimalScale:2}),"v2"!==j&&"v3"!==j&&"v3_lite"!==j||"option"===p&&"v2"===j?" "+u.shares:" "+d]})]}),("v2"!==j&&"v3"!==j&&"v3_lite"!==j||"v2"===j&&"option"===p)&&Object(g.jsxs)("div",{className:"info-box",children:[Object(g.jsx)("div",{className:"info-box-title"}),Object(g.jsxs)("div",{className:"info-box-num",children:[Object(g.jsx)(x.a,{allowZero:!0,decimalScale:2,value:c.values,thousandSeparator:!0})," ",d]})]}),("v2"===j||"v3"===j||"v3_lite"===j)&&!("option"===p&&"v2"===j)&&Object(g.jsxs)("div",{className:"info-box",children:[Object(g.jsx)("div",{className:"info-box-title",children:Object(g.jsx)(_.a,{multiline:!0,text:u["mining-pnl"],tip:u["mining-pnl-hover"],html:!0,element:Object(g.jsxs)("span",{children:[" ",Object(g.jsxs)("div",{children:[u["mining-pnl-hover-one"]," "]}),u["mining-pnl-hover"]," ",Object(g.jsxs)("div",{children:[Object(g.jsx)("a",{target:"_blank",href:"https://docs.deri.io/how-it-works/mining-amm-liquidity-mining#ii.-base-token-profit-with-market-risk",children:u["learn-more-pnl"]})," "]})," "]})})}),Object(g.jsxs)("div",{className:"info-box-num",children:[Object(g.jsx)(x.a,{allowZero:!0,prefix:" ",value:c.pnl,decimalScale:2}),"  ",f&&f.bTokens[0].bTokenSymbol," (",Object(g.jsx)(x.a,{value:c.pnlPercentage,decimalScale:2,suffix:"%"}),")"]})]}),("v3"===j||"v3_lite"===j)&&(56===+a||97===+a)&&Object(g.jsxs)("div",{className:"info-box",children:[Object(g.jsx)("div",{className:"info-box-title",children:u["xvs-earned"]}),Object(g.jsxs)("div",{className:"info-box-num collect-box",children:[Object(g.jsx)(x.a,{value:T,decimalScale:2}),Object(g.jsx)(L.a,{onClick:q,className:"collect",label:u.collect})]})]})]}),Object(g.jsxs)("div",{className:"pool-info-text-two",children:["lp"!==p&&Object(g.jsxs)("div",{className:"info-box",children:[Object(g.jsx)("div",{className:"info-box-title",children:u.symbols}),Object(g.jsx)("div",{className:"info-box-num symbols",children:Object(g.jsx)(_.a,{tip:v,children:v})})]}),Object(g.jsxs)("div",{className:"info-box",children:[Object(g.jsx)("div",{className:"info-box-title",children:u["contract-address"]}),Object(g.jsx)("div",{className:"info-box-num",children:Object(g.jsx)("a",{target:"_blank",rel:"noreferrer",href:"".concat(H[a]&&H[a].viewUrl,"/address/").concat(l),children:Object(h.i)(l)})})]})]})]})]})}var R=a(29),U=a(1428);function D(e){let{lang:t,address:a,checkoutBaseToken:n,nowToken:i,bTokenList:s,version:c,type:r}=e;const[l,d]=Object(o.useState)([]),b=e=>{e.target.src=F.default};return Object(o.useEffect)((()=>{d(s)}),[s]),Object(g.jsxs)("div",{className:"select-basetoken-info",children:[Object(g.jsxs)("div",{className:"select-coin-title-search",children:[Object(g.jsxs)("div",{className:"select-coin-title",children:[" ",t["select-the-coin"]]}),Object(g.jsx)("div",{className:"search-box",children:Object(g.jsx)(U.a,{list:s,searchName:"bTokenSymbol",onChange:e=>d(e)})})]}),Object(g.jsxs)("div",{className:"coin-search",children:[Object(g.jsx)("div",{className:"slide-icon left",children:Object(g.jsx)(R.a,{token:"arrow-left",width:"24",height:"24"})}),Object(g.jsxs)("div",{className:"v3"===c||"v3_lite"===c?"coin-list some-coin":"coin-list",children:["lp"!==r&&"v2_lite_open"!==c&&Object(g.jsx)(g.Fragment,{children:l.map(((e,a)=>Object(g.jsxs)("div",{className:i===e.bTokenSymbol?"coin-box checked-base":"coin-box",onClick:()=>{n(e.bTokenId,e.bTokenSymbol)},children:[Object(g.jsxs)("div",{className:"base-apy-info",children:[Object(g.jsx)("div",{className:`btoken-logo ${e.bTokenSymbol}`}),Object(g.jsxs)("div",{className:"apy-base-staked",children:[Object(g.jsx)("div",{className:"base-name",children:e.bTokenSymbol}),Object(g.jsxs)("div",{className:"base-apy",children:[t.apy," \xa0 ",Object(g.jsx)(x.a,{width:"50px",value:e.apy,suffix:"%",displayType:"text",allowZero:!0,decimalScale:2}),("v3"===c||"v3_lite"===c)&&Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("span",{children:[" +  ",Object(g.jsx)(x.a,{width:"50px",value:e.supplyApy,suffix:"%",displayType:"text",allowZero:!0,decimalScale:2}),"  + "]}),Object(g.jsx)(x.a,{width:"50px",value:e.xvsApy,suffix:"%",displayType:"text",allowZero:!0,decimalScale:2})]})]})]})]}),e.staked&&Object(g.jsx)("img",{src:E.a,alt:""})]})))}),"v2_lite_open"===c&&Object(g.jsx)(g.Fragment,{children:l.map(((e,a)=>Object(g.jsxs)("div",{className:"coin-box checked-base",onClick:()=>{n(e.bTokenId)},children:[Object(g.jsxs)("div",{className:"base-apy-info",children:[Object(g.jsx)("div",{className:`btoken-logo ${e.bTokenSymbol}`,children:Object(g.jsx)("img",{alt:"",onError:b,src:`https://raw.githubusercontent.com/deri-finance/deri-open-zone/main/img/${e.bTokenSymbol}.png`})}),Object(g.jsx)("div",{className:"apy-base-staked",children:Object(g.jsx)("div",{className:"base-name",children:e.bTokenSymbol})})]}),e.staked&&Object(g.jsxs)("div",{className:"stake",children:[Object(g.jsx)("img",{src:E.a,alt:""}),t.staked]})]})))}),"lp"===r&&s.length&&Object(g.jsx)(g.Fragment,{children:Object(g.jsx)("div",{className:"coin-box checked-base",children:Object(g.jsxs)("div",{className:"base-apy-info",children:[Object(g.jsxs)("div",{className:"lp-btoken-logo",children:[Object(g.jsx)("div",{className:`btoken-logo ${s[0].bTokenSymbol}`}),Object(g.jsx)("span",{className:"conect-logo",children:"+"}),Object(g.jsx)("div",{className:`btoken-logo ${s[1].bTokenSymbol}`})]}),Object(g.jsxs)("div",{className:"apy-base-staked",children:[Object(g.jsx)("div",{className:"base-name",children:i}),Object(g.jsxs)("div",{className:"base-apy",children:[Object(h.v)(a)&&Object(g.jsxs)(g.Fragment,{children:[t.apy," \xa0 ",Object(g.jsx)(x.a,{value:s[1].apy,suffix:"%",displayType:"text",allowZero:!0,decimalScale:2})]}),Object(h.C)(a)&&Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(_.a,{text:`${t.apy} ${(+s[1].apy).toFixed(2)} %`,tip:t["deri-apy"]}),"\xa0 + \xa0 ",Object(g.jsx)(_.a,{text:`${t.apy}  ${(+s[1].lpApy).toFixed(2)} %`,tip:t["sushi-apy"]})]})]})]})]})})})]}),Object(g.jsx)("div",{className:"slide-icon right",children:Object(g.jsx)(R.a,{token:"arrow-right",width:"24",height:"24"})})]})]})}a(1644);var P=a(212),z=a(1423),Z=w[v.DeriEnv.get()].chainInfo;t.default=Object(d.b)("wallet","poolManager")(Object(d.c)((function(e){var t,a=e.lang,c=e.wallet,d=void 0===c?{}:c,u=e.poolManager,j=e.getLang,p=Object(l.i)(),f=p.version,O=p.chainId,w=p.address,_=p.type,B=Object(b.c)(),L=Object(o.useState)(),H=Object(s.a)(L,2),R=H[0],U=H[1],V=Object(o.useState)(""),W=Object(s.a)(V,2),M=W[0],K=W[1],X=Object(o.useState)(!1),J=Object(s.a)(X,2),G=J[0],Q=J[1],Y=Object(o.useState)(""),ee=Object(s.a)(Y,2),te=ee[0],ae=ee[1],ne=Object(o.useState)([]),ie=Object(s.a)(ne,2),se=ie[0],ce=ie[1],re=Object(o.useState)({}),oe=Object(s.a)(re,2),le=oe[0],de=oe[1],be=Object(o.useState)(0),ue=Object(s.a)(be,2),je=ue[0],pe=ue[1],he=Object(o.useState)({}),xe=Object(s.a)(he,2),fe=xe[0],me=xe[1],ve=Object(N.a)(),Oe=Object(o.useState)(""),ge=Object(s.a)(Oe,2),ke=ge[0],ye=ge[1],we=Object(o.useState)(),Ne=Object(s.a)(we,2),Se=Ne[0],Te=Ne[1],Ce=Object(o.useState)({}),Ie=Object(s.a)(Ce,2),$e=Ie[0],qe=Ie[1],Ee=Object(o.useState)(!1),Fe=Object(s.a)(Ee,2),_e=(Fe[0],Fe[1]),Be=Object(o.useState)(0),Le=Object(s.a)(Be,2),He=Le[0],Ae=Le[1],Re=Object(o.useState)(0),Ue=Object(s.a)(Re,2),De=Ue[0],Pe=Ue[1],ze=Object(o.useState)(0),Ze=Object(s.a)(ze,2),Ve=Ze[0],We=Ze[1],Me=Object(o.useState)(""),Ke=Object(s.a)(Me,2),Xe=Ke[0],Je=Ke[1],Ge=Object(o.useState)(!1),Qe=Object(s.a)(Ge,2),Ye=Qe[0],et=Qe[1],tt=Z[O]&&Z[O].name,at=function(){var e=Object(i.a)(r.a.mark((function e(){var t,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!d.isConnected()){e.next=17;break}if(t=[d.detail.chainId,w,d.detail.account],a=null,!te.isLp){e.next=9;break}return e.next=6,m.a.request("getLpWalletBalance",t);case 6:a=e.sent,e.next=16;break;case 9:if("v3"===f||"v3_lite"===f?t.push(R):t.push(M),"v2_lite_open"!==f){e.next=13;break}return e.next=13,v.openConfigListCache.update();case 13:return e.next=15,m.a.request("getBTokenBalance",t);case 15:a=e.sent;case 16:Te(a);case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),nt=function(){var e=Object(i.a)(r.a.mark((function e(){var t,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.request("getPendingReward",[d.detail.chainId,w,d.detail.account]);case 2:t=e.sent,Object(h.x)(w)?(me(t),a=t.valid?t.amount:0,pe(a)):pe(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),it=function(){at(),ot(),lt()},st=Object(o.useMemo)((function(){var e;return e={},Object(n.a)(e,a.add,{content:Object(g.jsx)(k,{getLang:j,poolConfig:te,isLp:_,wallet:d,afterTransaction:it,version:f,bTokenId:M,address:w,lang:a,type:"add",poolInfo:le,baseToken:R,walletBalance:Se}),style:{background:"linear-gradient(200.74deg, rgba(97, 122, 255, 0.1) -4.65%, rgba(223, 229, 255, 0) 50.94%, rgba(85, 91, 237, 0.05) 105.4%)"},borderColor:"#203B60",icon:"add-icon",iconWidth:"25",iconHeight:"25",inicon:"inactive-add",direction:"tab-left"}),Object(n.a)(e,a.remove,{content:Object(g.jsx)(k,{getLang:j,isLp:_,poolConfig:te,wallet:d,afterTransaction:it,lang:a,address:w,type:"remove",bTokenId:M,poolInfo:le,balance:le,baseToken:R,version:f}),style:{background:"linear-gradient(200.74deg, rgba(97, 122, 255, 0.1) -4.65%, rgba(223, 229, 255, 0) 50.94%, rgba(85, 91, 237, 0.05) 105.4%)"},borderColor:"#203B60",icon:"remove-icon",iconWidth:"25",iconHeight:"25",iconMarginRight:"20",inicon:"inactive-remove",direction:"tab-right"}),e}),[a,j,te,_,d,f,M,w,R,Se,le]),ct=function(){var e=Object(i.a)(r.a.mark((function e(){var t,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.load();case 2:if(t=u.pools,"lp"!==_){e.next=7;break}return e.next=6,u.loadDoubleMingingPool();case 6:t=u.lpPools;case 7:if("v2_lite_open"!==f){e.next=11;break}return e.next=10,u.loadOpen();case 10:t=u.openPools;case 11:t=(t=t.filter((function(e){return e.address===w})))[0],t.bTokens[0].bTokenSymbol,Object(h.v)(w)?"PANCAKE-LP":Object(h.C)(w)&&"DERI-USDT SLP",a=(a=t.symbols.map((function(e){var t=[];return t.push(e.symbol),t}))).join(","),ye(a),ae(t),ce(t.bTokens);case 20:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),rt=function(){var e=Object(i.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!te){e.next=6;break}return e.next=3,te.getPoolInfo(d,te);case 3:return(t=e.sent).bTokensApy&&se.map((function(e){if("v2"===f)e.apy=100*+t.bTokensApy.filter((function(t){return t.bTokenId===e.bTokenId}))[0].apy;else if("v2_lite_open"!==f&&"v3"!==f&&"v3_lite"!==f)e.apy=100*+t.bTokensApy[0].apy,Object(h.C)(w)&&(e.lpApy=t.lpApy);else if("v3"===f||"v3_lite"===f){var a=t.bTokensApy.find((function(t){return t.bTokenSymbol===e.bTokenSymbol}));a&&(e.apy=100*+a.apy,e.supplyApy=(100*+a.supplyApy).toFixed(3),e.xvsApy=100*+a.xvsApy)}return e})),e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ot=function(){var e=Object(i.a)(r.a.mark((function e(){var t,a,n,i,s,c,o,l,b;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=null,!te){e.next=15;break}return e.next=4,te.getPoolInfo(d,te);case 4:if((a=e.sent).bTokensApy&&a.bTokensLiq&&("v2"===f&&M?(o=a.bTokensApy.filter((function(e){return e.bTokenId===M})),n=o[0].apy,l=o[0].multiplier,c=(c=a.bTokensLiq.filter((function(e){return e.bTokenId===M})))[0].liquidity):"v2_lite_open"!==f&&"v3"!==f&&"v3_lite"!==f?(n=a.bTokensApy[0].apy,c=a.bTokensLiq[0].liquidity):"v3"!==f&&"v3_lite"!==f||((o=a.bTokensApy.filter((function(e){return e.bTokenSymbol===R}))).length&&(n=o[0].apy,i=o[0].supplyApy,s=o[0].xvsApy,l=o[0].multiplier),(c=a.bTokensLiq.filter((function(e){return e.bTokenSymbol===R}))).length&&(c=c[0].liquidity)),t={total:c,apy:100*+n,supplyApy:100*+i,xvsApy:100*+s,multiplier:l}),!d.isConnected()){e.next=14;break}return e.next=9,te.getLiquidityInfo(d,w,te.version,te.isLp,_,R,M);case 9:b=e.sent,t=b,"v3"!==f&&"v3_lite"!==f||(t.supplyApy=100*+i,t.xvsApy=100*+s),t.apy=100*+n,t.multiplier=l;case 14:de(t);case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),lt=function(){var e=Object(i.a)(r.a.mark((function e(){var t,a,n,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!d.isConnected()||!te){e.next=9;break}return e.next=3,te.getIsStaked(d,te);case 3:(t=e.sent).bTokens&&se.map((function(e){if("v2"===f&&"option"!==_)e.staked=t.bTokens.filter((function(t){return t.bTokenId===e.bTokenId}))[0].isStaked;else if("v3"===f||"v3_lite"===f){var a=t.bTokens.filter((function(t){return t.bTokenSymbol===e.bTokenSymbol}));e.staked=!!a.length&&a[0].isStaked}else e.staked=t.isStaked;return e})),a=[],se.forEach((function(e,t){if(e.staked)return a.push(e),void se.splice(t,1)})),se.unshift.apply(se,a),se.length&&(n=se[0].bTokenSymbol,Object(h.v)(w)?n="PANCAKE-LP":Object(h.C)(w)&&(n="DERI-USDT SLP"),i=se[0].bTokenId,U(n),K(i));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),dt=function(){var e=Object(i.a)(r.a.mark((function e(t,a){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n="v3"!==f&&"v3_lite"!==f?te.bTokens.filter((function(e){return e.bTokenId===t})):te.bTokens.filter((function(e){return e.bTokenSymbol===a})),de({}),K(t),Te(""),U(n[0].bTokenSymbol),Q();case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),bt=function(){var e=Object(i.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==+je){e.next=3;break}return B.error(a["no-deri-to-claim-yet"]),e.abrupt("return");case 3:if(!Object(h.x)(w)){e.next=8;break}if(!(parseInt(Date.now()/1e3)%28800<1800)){e.next=8;break}return B.error(a["claiming-DERI-is-disabled-during-first-30-minutes-of-each-epoch"]),e.abrupt("return");case 8:return et(!0),e.next=11,m.a.request("claimReward",[d.detail.chainId,w,d.detail.account],{includeResponse:!0,write:!0,subject:a["claim-deri-title"]});case 11:if(t=e.sent,nt(),et(!1),!t.success){e.next=21;break}return pe(0),B.success(a["claim-deri-reward"],{timeout:8e3,isTransaction:!0,transactionHash:t.response.data.transactionHash,link:"".concat(d.blockExploreUrl,"/tx/").concat(t.response.data.transactionHash),title:a["claim-reward-executed"]}),pe(0),e.abrupt("return",!0);case 21:if(""!==t.response.transactionHash){e.next=23;break}return e.abrupt("return",!1);case 23:return B.error("".concat(a["transaction-failed"]," : ").concat(t.response.error),{timeout:3e5,isTransaction:!0,transactionHash:t.response.transactionHash,link:"".concat(d.blockExploreUrl,"/tx/").concat(t.response.transactionHash),title:a["claim-reward-failed"]}),e.abrupt("return",!1);case 25:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(o.useEffect)((function(){if(d.detail.chainId&&d.detail.chainId!==O&&d.switchNetwork(ve[O]),d.isConnected()){var e=window.setInterval(nt,3e4);return nt(),function(){return clearInterval(e)}}}),[d.detail,d]),Object(o.useEffect)((function(){ct()}),[]),Object(o.useEffect)((function(){if(Te(""),se.length&&(R||M)){var e,t={};if("v2"!==f)t=se.filter((function(e){return e.bTokenSymbol===R}))[0];else if("v2"===f){t=se.filter((function(e){return e.nowTokenId===M}))[0]}qe(t),"v2"===f&&"option"!==_?M&&(e=se.filter((function(e){return e.bTokenId===M}))[0].staked):"lp"!==_&&(e=se.filter((function(e){return e.bTokenSymbol===R}))[0].staked),Q(e)}}),[se,R,M]),Object(o.useEffect)((function(){rt()}),[te,se]),Object(o.useEffect)((function(){ot(),at()}),[M,te,d.detail.account,R]),Object(o.useEffect)((function(){lt()}),[te,d.detail.account,se]),Object(o.useEffect)((function(){if(d.isConnected()){var e=Object(h.m)("poolClaim"),t=sessionStorage.getItem("poolGuideThree");"true"===e?_e(!1):"3"===t&&_e(!0)}}),[d,d.detail]),Object(o.useEffect)((function(){var e;return e=window.setInterval((function(){var e=28800,t=parseInt(Date.now()/1e3),n=parseInt(t/e)*e,i=n+e-t,s=parseInt(i/3600),c=parseInt(i%3600/60),r=parseInt(i%60);Ae(n),Pe(n+e),We(t),Je("".concat(s," ").concat(a.h," ").concat(c," ").concat(a.m," ").concat(r," ").concat(a.s))}),1e3),function(){e&&clearInterval(e)}}),[]),Object(g.jsxs)("div",{className:"pool-detail",children:[Object(g.jsx)("div",{className:"back-pool",children:Object(g.jsxs)("div",{className:"icon-back",onClick:function(){window.history.back(-1)},children:[Object(g.jsx)("img",{alt:"",src:S.default}),Object(g.jsx)("span",{children:a.back})]})}),Object(g.jsxs)("div",{className:"pool-deatail-info",children:[Object(g.jsxs)("div",{className:"pool-detail-basetoken-info",children:[Object(g.jsxs)("div",{className:"pool-info-text",children:[Object(g.jsxs)("div",{className:"pool-network-type",children:[Object(g.jsx)("div",{className:"network-logo",children:Object(g.jsx)("img",{alt:"",src:function(e){var t,a=+e;return 56===a||97===a?t=T.default:137===a?t=C.default:1===a?t=I.default:42161!==a&&421611!==a||(t=$.default),t}(O)})}),Object(g.jsxs)("div",{className:"pool-type-network-text",children:[Object(g.jsxs)("div",{className:"pool-type-text",children:["0xD2D950e338478eF7FeB092F840920B3482FcaC40"!==w&&Object(g.jsxs)(g.Fragment,{children:[a[te.type]," ",a[te.zone]]}),"0xD2D950e338478eF7FeB092F840920B3482FcaC40"===w&&Object(g.jsx)(g.Fragment,{children:a[te.zone]})]}),Object(g.jsx)("div",{className:"pool-network-text",children:"BSC"===tt?"BNB Chain":tt})]})]}),Object(g.jsxs)("div",{className:"pool-des",children:["lp"!==_&&a["amm-pool-des"],"clp"===f&&Object(g.jsx)(g.Fragment,{children:a["deri-pancake-pool"]}),"slp"===f&&Object(g.jsx)(g.Fragment,{children:a["deri-sushi-pool"]}),Object(g.jsx)("br",{}),"lp"!==_?Object(g.jsx)("a",{rel:"norelerror",target:"_blank",href:"https://docs.deri.io/library/faqs/mining-faq#is-the-amm-liquidity-mining-on-deri-pools-risk-free",children:Object(g.jsxs)("span",{className:"learn-more",children:[" ",a["learn-more"]]})}):Object(g.jsx)("a",{rel:"norelerror",target:"_blank",href:"https://docs.deri.io/library/faqs/mining-faq#is-dex-liquidity-mining-on-sushiswap-sushiswap-onsen-and-pancakeswap-deri-risk-free",children:Object(g.jsxs)("span",{className:"learn-more",children:[" ",a["learn-more"]]})})]})]}),Object(g.jsx)(D,{lang:a,address:w,checkoutBaseToken:dt,nowToken:R,bTokenList:se,version:f,type:_})]}),Object(g.jsxs)("div",{className:"pool-detail-add-remove-info",children:[Object(g.jsxs)("div",{className:"mining-deri-liquidity",children:[Object(g.jsxs)("div",{className:"btoken-liquidity",children:["lp"!==_&&Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("div",{className:"btoken-logo ".concat(R),children:"v2_lite_open"===f&&Object(g.jsx)(g.Fragment,{children:Object(g.jsx)("img",{alt:"",onError:function(e){e.target.src=F.default},src:"https://raw.githubusercontent.com/deri-io/deri-open-zone/main/img/".concat(R,".png")})})}),Object(g.jsxs)("div",{className:"manage-stake",children:[Object(g.jsxs)("div",{className:"manage",children:[a.manage," ",R," ",a.liquidity]}),G&&Object(g.jsxs)("div",{className:"stake",children:[Object(g.jsx)("img",{src:E.a,alt:""}),a.staked]})]})]}),"lp"===_&&se.length&&Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("div",{className:"lp-btoken-logo",children:[Object(g.jsx)("div",{className:"btoken-logo ".concat(se[0].bTokenSymbol)}),Object(g.jsx)("span",{className:"conect-logo",children:"+"}),Object(g.jsx)("div",{className:"btoken-logo ".concat(se[1].bTokenSymbol)})]}),Object(g.jsxs)("div",{className:"manage-stake",children:[Object(g.jsxs)("div",{className:"manage",children:[a.manage," ",R," ",a.liquidity]}),G&&Object(g.jsxs)("div",{className:"stake",children:[Object(g.jsx)("img",{src:E.a,alt:""}),a.staked]})]})]})]}),Object(g.jsx)("div",{className:"deri-current-epoch",children:"v2_lite_open"!==f&&te.rewarded&&Object(g.jsxs)(g.Fragment,{children:[Object(h.x)(w)&&Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)("div",{className:"deri-num-slider",children:[Object(g.jsx)("div",{className:"deri-cliam-remaining",children:Xe}),Object(g.jsx)("div",{className:"deri-claim-slider",children:Object(g.jsx)(z.a,{startTimestamp:He,nowTimestamp:Ve,endTimestamp:De})}),Object(g.jsx)("div",{className:"deri-claim-pool-num",children:j("deri-claim-pool-num",{num:+fe.lp?(+fe.lp).toFixed(4):0})})]})}),Object(g.jsx)("div",{className:Object(h.x)(w)?"mining-pool-claim epoch-pool":"mining-pool-claim",children:Object(g.jsxs)("div",{className:"mining-claim-info",children:[Object(g.jsxs)("span",{children:[" ",a["you-have"]]}),Object(g.jsxs)("span",{className:"".concat(0===+je?"no-deri":""," mining-pool-num"),onClick:bt,children:[Ye&&Object(g.jsx)(P.a,{}),Object(g.jsx)(x.a,{value:je,decimalScale:2}),Object(g.jsx)("img",{src:q})]}),Object(g.jsx)("span",{children:a["claim-in-pool"]})]})})]})})]}),Object(g.jsxs)("div",{className:"mining-add-remove-liquidity",children:[Object(g.jsx)(A,(t={wallet:d,nowApy:$e,poolInfo:le,chainId:O,address:w,nowToken:R,lang:a},Object(n.a)(t,"poolInfo",le),Object(n.a)(t,"version",f),Object(n.a)(t,"type",_),Object(n.a)(t,"poolConfig",te),Object(n.a)(t,"symbols",ke),t)),Object(g.jsx)("div",{className:"add-remove-liquidity",children:Object(g.jsx)(y.a,{tabSet:st,iconMarginRight:"20",width:379,size:18,inactiveBgColor:"#0c192d",icon:"",borderBottom:!0,divider:!0})})]})]})]})]})})))}}]);
//# sourceMappingURL=19.0397f509.chunk.js.map