(this["webpackJsonpderi-client"]=this["webpackJsonpderi-client"]||[]).push([[31],{1662:function(e,a,n){"use strict";n.d(a,"a",(function(){return c}));var t=new(0,n(319).GraphQLClient)("https://v4dh.deri.io/graphql",{});function c(e,a){return t.request(e,a)}},2510:function(e,a,n){},2713:function(e,a,n){"use strict";n.r(a);var t,c,i=n(0),s=n(64),l=n(2),d=n(10),r=n(5),j=n(60),o=n(73),b=n.n(o),m=n(597),O=(n(2510),n(33)),h=n(319),v=n(1662),u=n(22),x=n(113),p=n(3);a.default=Object(j.b)("wallet")(Object(j.c)((function(){var e=Object(r.useState)([]),a=Object(d.a)(e,2),n=a[0],j=a[1],o=Object(r.useState)(30),f=Object(d.a)(o,2),N=f[0],k=f[1],g=Object(r.useState)(30),y=Object(d.a)(g,2),T=y[0],w=y[1],S=Object(r.useState)({}),I=Object(d.a)(S,2),$=I[0],P=I[1],C=Object(x.b)().account,q=Object(r.useCallback)(Object(l.a)(Object(i.a)().mark((function e(){var a,n,c,l,d,r,o;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(h.gql)(t||(t=Object(s.a)(["\n      query ($chainId: Int!, $fromTimestamp: Int!) {\n        tradePnl(where: { chainId: $chainId, fromTimestamp: $fromTimestamp }) {\n          account\n          chainId\n          liquidationLoss\n          notional\n          pnl\n          tradeFee\n          tradePnl\n        }\n      }\n    "]))),n=0,c=new Date,l=c.getTime()/1e3,7===T&&(n=l-604800),30===T&&(n=l-2592e3),d={chainId:42161,fromTimestamp:parseInt(String(n))},e.next=9,Object(v.a)(a,d);case 9:(r=e.sent).tradePnl.length&&(o=(o=r.tradePnl).slice(0,50),j(o));case 11:case"end":return e.stop()}}),e)}))),[T]),F=Object(r.useCallback)(Object(l.a)(Object(i.a)().mark((function e(){var a,n,t,l,d,r,j;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(h.gql)(c||(c=Object(s.a)(["\n      query ($chainId: Int!, $fromTimestamp: Int!, $account: String) {\n        tradePnl(\n          where: {\n            account: $account\n            chainId: $chainId\n            fromTimestamp: $fromTimestamp\n          }\n        ) {\n          account\n          chainId\n          liquidationLoss\n          notional\n          pnl\n          tradeFee\n          tradePnl\n        }\n      }\n    "]))),n=0,t=new Date,l=t.getTime()/1e3,7===N&&(n=l-604800),30===N&&(n=l-2592e3),d={account:C,chainId:56,fromTimestamp:parseInt(String(n))},e.next=9,Object(v.a)(a,d);case 9:(r=e.sent).tradePnl.length?(j=r.tradePnl[0],P(j)):P({tradeFee:0,pnl:0,notional:0});case 11:case"end":return e.stop()}}),e)}))),[N,C]);return Object(r.useEffect)((function(){q()}),[T]),Object(r.useEffect)((function(){C&&F()}),[C,N]),Object(p.jsx)("div",{className:"Leaderboard",children:Object(p.jsxs)("div",{className:"Leaderboard-box",children:[Object(p.jsxs)("div",{className:"my-historical-trading",children:[Object(p.jsxs)("div",{className:"title-tab-day",children:[Object(p.jsx)("div",{className:"title-leaderboard",children:"My Historical Trading Performance"}),Object(p.jsxs)("div",{className:"tab-day",children:[Object(p.jsx)("div",{className:b()("day-btn",{active:7===N}),onClick:function(){k(7)},children:"7 DAYS"}),Object(p.jsx)("div",{className:b()("day-btn",{active:30===N}),onClick:function(){k(30)},children:"30 DAYS"})]})]}),Object(p.jsxs)("div",{className:"my-info-list",children:[Object(p.jsxs)("div",{className:"info-box",children:[Object(p.jsxs)("div",{className:"info-num",children:[" ",Object(p.jsx)(m.a,{prefix:"$ ",value:$.notional,decimalScale:2})]}),Object(p.jsx)("div",{className:"info-title",children:" Notional "})]}),Object(p.jsxs)("div",{className:"info-box",children:[Object(p.jsx)("div",{className:"info-num",children:Object(p.jsx)(m.a,{prefix:"$ ",value:+$.tradeFee,decimalScale:2})}),Object(p.jsx)("div",{className:"info-title",children:" Transaction Fee "})]}),Object(p.jsxs)("div",{className:"info-box",children:[Object(p.jsxs)("div",{className:"info-num",children:[" ",Object(p.jsx)(m.a,{prefix:"$ ",value:+$.pnl,decimalScale:2})]}),Object(p.jsx)("div",{className:"info-title",children:" PNL "})]})]})]}),Object(p.jsxs)("div",{className:"rankings",children:[Object(p.jsxs)("div",{className:"rankings-title-tab-day",children:[Object(p.jsx)("div",{className:"rankings-title",children:"Rankings"}),Object(p.jsxs)("div",{className:"tab-day",children:[Object(p.jsx)("div",{className:b()("day-btn",{active:7===T}),onClick:function(){w(7)},children:"7 DAYS"}),Object(p.jsx)("div",{className:b()("day-btn",{active:30===T}),onClick:function(){w(30)},children:"30 DAYS"})]})]}),Object(p.jsxs)("div",{className:"rankings-list-title",children:[Object(p.jsx)("div",{className:"rank",children:"Rank"}),Object(p.jsx)("div",{className:"trade",children:"Trade"}),Object(p.jsx)("div",{className:"notional",children:"Notional"}),Object(p.jsx)("div",{className:"transaction-fee",children:"Transaction Fee"}),Object(p.jsx)("div",{className:"pnl",children:"PNL"})]}),Object(p.jsx)("div",{className:"rankings-list-num",children:n.map((function(e,a){return Object(p.jsxs)("div",{className:"rankings-list-num-box",children:[Object(p.jsxs)("div",{className:"rank",children:[a+1===1&&Object(p.jsx)(O.a,{token:"topOne",width:void 0,height:void 0,secondary:void 0,className:void 0,onClick:void 0}),a+1===2&&Object(p.jsx)(O.a,{token:"topTwo",width:void 0,height:void 0,secondary:void 0,className:void 0,onClick:void 0}),a+1===3&&Object(p.jsx)(O.a,{token:"topThree",width:void 0,height:void 0,secondary:void 0,className:void 0,onClick:void 0}),a+1>3&&Object(p.jsx)("span",{className:"top-num",children:a+1})]}),Object(p.jsx)("div",{className:"trade",children:Object(u.o)(e.account)}),Object(p.jsxs)("div",{className:"notional",children:["$"," ",Object(p.jsx)(m.a,{value:e.notional,displayType:"text",decimalScale:2})]}),Object(p.jsxs)("div",{className:"transaction-fee",children:["$"," ",Object(p.jsx)(m.a,{value:+e.tradeFee,displayType:"text",decimalScale:2})]}),Object(p.jsxs)("div",{className:b()("pnl",{up:+e.pnl>0,down:+e.pnl<0}),children:[+e.pnl>0?"+":"",Object(p.jsx)(m.a,{value:+e.pnl,displayType:"text",decimalScale:2,prefix:"$ "})]})]},a)}))})]})]})})})))}}]);
//# sourceMappingURL=31.158e55be.chunk.js.map