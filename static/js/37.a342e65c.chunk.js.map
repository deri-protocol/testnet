{"version":3,"sources":["mobile/pages/Signin/Signin.js","components/Button/Button.js","../node_modules/_date-format@3.0.0@date-format/lib/index.js","components/SignIn/img/success.svg","components/SignIn/img/undone.svg","components/SignIn/img/right.svg","components/SignIn/Signin.js"],"names":["lang","Button","btnText","className","disabled","click","afterClick","checkApprove","wallet","spec","useState","status","setStatus","isApproved","setIsApproved","pending","setPending","buttonText","setbuttonText","loadRef","useRef","onClick","a","beforeAction","afterAction","current","style","display","loadApproveStatus","detail","account","pool","bTokenId","res","approve","success","alert","useEffect","ref","marginRight","padWithZeros","vNumber","width","numAsString","toString","length","addZero","asString","format","date","module","exports","ISO8601_FORMAT","now","vDay","getDate","vMonth","getMonth","vYearLong","getFullYear","vYearShort","substring","vYear","indexOf","vHour","getHours","vMinute","getMinutes","vSecond","getSeconds","vMillisecond","getMilliseconds","vTimeZone","timezoneOffset","os","Math","abs","h","String","floor","m","offset","getTimezoneOffset","replace","setDatePart","part","value","local","parse","pattern","str","missingValuesDate","Error","matchers","regexp","fn","setUTCMinutes","getUTCMinutes","parsedPattern","reduce","p","test","index","match","dateFns","filter","sort","b","matches","RegExp","exec","forEach","f","i","extractDateParts","Date","ISO8601_WITH_TZ_OFFSET_FORMAT","DATETIME_FORMAT","ABSOLUTETIME_FORMAT","inject","observer","DeriEnv","get","isApprove","setIsApprove","isThanFiveThousand","setIsThanFiveThousand","isClaim","setIsClaim","isHavePtoken","setIsHavePtoken","isNowSign","setIsNowSign","actionElement","setActionElement","isSignIn","setIsSignIn","isTrade","setIsTrade","hasConnectWallet","loadApprove","result","connect","getIsThanFiveThousand","getAirdropPTokenWhitelistCount","chainId","getIsClaimed","path","fetchRestApi","data","getStamp","timestamp","nowDate","dateFormat","parseInt","arr","map","item","obj","signin","push","getIsTrade","getTradeHistory","resBTC","resETH","resBNB","concat","three","signIn","formatBalance","method","error","claimPtoken","airdropPToken","isPtoken","isUserPTokenExist","element","getTime","target","href","one","src","undone","two","right"],"mappings":"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","file":"static/js/37.a342e65c.chunk.js","sourcesContent":["import Sign from '../../../components/SignIn/Signin'\r\nimport './signin.less'\r\n\r\nexport default function({lang}){\r\n  return(\r\n    <div>\r\n      <Sign lang={lang} />\r\n    </div>\r\n  )\r\n}","import {useState,useRef,useEffect} from 'react';\r\nexport default function Button({btnText,className,disabled,click,afterClick,checkApprove,wallet,spec,lang}){\r\n  const [status, setStatus] = useState(disabled ? 'disabled' : 'enabled');\r\n  const [isApproved, setIsApproved] = useState(true);\r\n  const [pending, setPending] = useState(false);\r\n  const [buttonText, setbuttonText] = useState(btnText)\r\n  const loadRef = useRef(null)\r\n\r\n  const onClick = async () => {\r\n    if(status !== 'enabled') {\r\n      return ;\r\n    }\r\n    beforeAction()\r\n    const result = await click();    \r\n    if(result){\r\n      afterClick && afterClick()\r\n    } \r\n    afterAction()\r\n  }\r\n\r\n  const beforeAction = ()  => {\r\n    setStatus('disabled')\r\n    setPending(true);\r\n    loadRef.current && (loadRef.current.style.display = 'inline-block')\r\n  }\r\n\r\n  const afterAction = () => {\r\n    loadRef.current && (loadRef.current.style.display = 'none')\r\n    setStatus('enabled')\r\n    setPending(false);\r\n  }\r\n\r\n  const loadApproveStatus = async () => {\r\n    if(checkApprove && wallet && wallet.detail.account){\r\n      const res = await wallet.isApproved(spec.pool,spec.bTokenId)\r\n      setIsApproved(res);\r\n    }\r\n  }\r\n  const approve = async () => {\r\n    beforeAction();\r\n    const res = await wallet.approve(spec.pool,spec.bTokenId);\r\n    if(res.success){\r\n      setIsApproved(true);\r\n    } else {\r\n      setIsApproved(false)\r\n      alert(lang['approve-failed'])\r\n    }\r\n    afterAction();\r\n  }\r\n\r\n  const action = () => {\r\n    if(isApproved){\r\n      onClick();\r\n    } else {\r\n      approve();\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    loadApproveStatus();\r\n    return () => {};\r\n  }, [wallet,spec,checkApprove]);\r\n\r\n  useEffect(() => {\r\n    if(btnText){\r\n      setbuttonText(btnText)\r\n    }\r\n    return () => {\r\n    }\r\n  }, [btnText])\r\n\r\n  return(\r\n    <button className={className} onClick={action} >\r\n        <span className='btn-loading-wrap'>\r\n          <span ref={loadRef}\r\n            className='spinner spinner-border spinner-border-sm'\r\n            style={{display : 'none' ,marginRight : '2'}}>\r\n          </span>\r\n        </span>\r\n          {pending ? lang['pending'] : (isApproved ? buttonText : lang['approve'])  }\r\n        </button>\r\n  )\r\n}","\"use strict\";\n\nfunction padWithZeros(vNumber, width) {\n  var numAsString = vNumber.toString();\n  while (numAsString.length < width) {\n    numAsString = \"0\" + numAsString;\n  }\n  return numAsString;\n}\n\nfunction addZero(vNumber) {\n  return padWithZeros(vNumber, 2);\n}\n\n/**\n * Formats the TimeOffset\n * Thanks to http://www.svendtofte.com/code/date_format/\n * @private\n */\nfunction offset(timezoneOffset) {\n  var os = Math.abs(timezoneOffset);\n  var h = String(Math.floor(os / 60));\n  var m = String(os % 60);\n  if (h.length === 1) {\n    h = \"0\" + h;\n  }\n  if (m.length === 1) {\n    m = \"0\" + m;\n  }\n  return timezoneOffset < 0 ? \"+\" + h + m : \"-\" + h + m;\n}\n\nfunction asString(format, date) {\n  if (typeof format !== \"string\") {\n    date = format;\n    format = module.exports.ISO8601_FORMAT;\n  }\n  if (!date) {\n    date = module.exports.now();\n  }\n\n  // Issue # 14 - Per ISO8601 standard, the time string should be local time\n  // with timezone info.\n  // See https://en.wikipedia.org/wiki/ISO_8601 section \"Time offsets from UTC\"\n\n  var vDay = addZero(date.getDate());\n  var vMonth = addZero(date.getMonth() + 1);\n  var vYearLong = addZero(date.getFullYear());\n  var vYearShort = addZero(vYearLong.substring(2, 4));\n  var vYear = format.indexOf(\"yyyy\") > -1 ? vYearLong : vYearShort;\n  var vHour = addZero(date.getHours());\n  var vMinute = addZero(date.getMinutes());\n  var vSecond = addZero(date.getSeconds());\n  var vMillisecond = padWithZeros(date.getMilliseconds(), 3);\n  var vTimeZone = offset(date.getTimezoneOffset());\n  var formatted = format\n    .replace(/dd/g, vDay)\n    .replace(/MM/g, vMonth)\n    .replace(/y{1,4}/g, vYear)\n    .replace(/hh/g, vHour)\n    .replace(/mm/g, vMinute)\n    .replace(/ss/g, vSecond)\n    .replace(/SSS/g, vMillisecond)\n    .replace(/O/g, vTimeZone);\n  return formatted;\n}\n\nfunction setDatePart(date, part, value, local) {\n  date['set' + (local ? '' : 'UTC') + part](value);\n}\n\nfunction extractDateParts(pattern, str, missingValuesDate) {\n  // Javascript Date object doesn't support custom timezone.  Sets all felds as\n  // GMT based to begin with.  If the timezone offset is provided, then adjust\n  // it using provided timezone, otherwise, adjust it with the system timezone.\n  var local = pattern.indexOf('O') < 0;\n  var matchers = [\n    {\n      pattern: /y{1,4}/,\n      regexp: \"\\\\d{1,4}\",\n      fn: function(date, value) {\n        setDatePart(date, 'FullYear', value, local);\n      }\n    },\n    {\n      pattern: /MM/,\n      regexp: \"\\\\d{1,2}\",\n      fn: function(date, value) {\n        setDatePart(date, 'Month', (value - 1), local);\n      }\n    },\n    {\n      pattern: /dd/,\n      regexp: \"\\\\d{1,2}\",\n      fn: function(date, value) {\n        setDatePart(date, 'Date', value, local);\n      }\n    },\n    {\n      pattern: /hh/,\n      regexp: \"\\\\d{1,2}\",\n      fn: function(date, value) {\n        setDatePart(date, 'Hours', value, local);\n      }\n    },\n    {\n      pattern: /mm/,\n      regexp: \"\\\\d\\\\d\",\n      fn: function(date, value) {\n        setDatePart(date, 'Minutes', value, local);\n      }\n    },\n    {\n      pattern: /ss/,\n      regexp: \"\\\\d\\\\d\",\n      fn: function(date, value) {\n        setDatePart(date, 'Seconds', value, local);\n      }\n    },\n    {\n      pattern: /SSS/,\n      regexp: \"\\\\d\\\\d\\\\d\",\n      fn: function(date, value) {\n        setDatePart(date, 'Milliseconds', value, local);\n      }\n    },\n    {\n      pattern: /O/,\n      regexp: \"[+-]\\\\d{3,4}|Z\",\n      fn: function(date, value) {\n        if (value === \"Z\") {\n          value = 0;\n        }\n        var offset = Math.abs(value);\n        var timezoneOffset = (value > 0 ? -1 :  1 ) * ((offset % 100) + Math.floor(offset / 100) * 60);\n        // Per ISO8601 standard: UTC = local time - offset\n        //\n        // For example, 2000-01-01T01:00:00-0700\n        //   local time: 2000-01-01T01:00:00\n        //   ==> UTC   : 2000-01-01T08:00:00 ( 01 - (-7) = 8 )\n        //\n        // To make it even more confusing, the date.getTimezoneOffset() is\n        // opposite sign of offset string in the ISO8601 standard.  So if offset\n        // is '-0700' the getTimezoneOffset() would be (+)420. The line above\n        // calculates timezoneOffset to matche Javascript's behavior.\n        //\n        // The date/time of the input is actually the local time, so the date\n        // object that was constructed is actually local time even thought the\n        // UTC setters are used.  This means the date object's internal UTC\n        // representation was wrong.  It needs to be fixed by substracting the\n        // offset (or adding the offset minutes as they are opposite sign).\n        //\n        // Note: the time zone has to be processed after all other fileds are\n        // set.  The result would be incorrect if the offset was calculated\n        // first then overriden by the other filed setters.\n        date.setUTCMinutes(date.getUTCMinutes() + timezoneOffset);\n      }\n    }\n  ];\n\n  var parsedPattern = matchers.reduce(\n    function(p, m) {\n      if (m.pattern.test(p.regexp)) {\n        m.index = p.regexp.match(m.pattern).index;\n        p.regexp = p.regexp.replace(m.pattern, \"(\" + m.regexp + \")\");\n      } else {\n        m.index = -1;\n      }\n      return p;\n    },\n    { regexp: pattern, index: [] }\n  );\n\n  var dateFns = matchers.filter(function(m) {\n    return m.index > -1;\n  });\n  dateFns.sort(function(a, b) {\n    return a.index - b.index;\n  });\n\n  var matcher = new RegExp(parsedPattern.regexp);\n  var matches = matcher.exec(str);\n  if (matches) {\n    var date = missingValuesDate || module.exports.now();\n    dateFns.forEach(function(f, i) {\n      f.fn(date, matches[i + 1]);\n    });\n\n    return date;\n  }\n\n  throw new Error(\n    \"String '\" + str + \"' could not be parsed as '\" + pattern + \"'\"\n  );\n}\n\nfunction parse(pattern, str, missingValuesDate) {\n  if (!pattern) {\n    throw new Error(\"pattern must be supplied\");\n  }\n\n  return extractDateParts(pattern, str, missingValuesDate);\n}\n\n/**\n * Used for testing - replace this function with a fixed date.\n */\nfunction now() {\n  return new Date();\n}\n\nmodule.exports = asString;\nmodule.exports.asString = asString;\nmodule.exports.parse = parse;\nmodule.exports.now = now;\nmodule.exports.ISO8601_FORMAT = \"yyyy-MM-ddThh:mm:ss.SSS\";\nmodule.exports.ISO8601_WITH_TZ_OFFSET_FORMAT = \"yyyy-MM-ddThh:mm:ss.SSSO\";\nmodule.exports.DATETIME_FORMAT = \"dd MM yyyy hh:mm:ss.SSS\";\nmodule.exports.ABSOLUTETIME_FORMAT = \"hh:mm:ss.SSS\";\n","export default __webpack_public_path__ + \"static/media/success.4aa75af6.svg\";","export default __webpack_public_path__ + \"static/media/undone.f6087837.svg\";","export default __webpack_public_path__ + \"static/media/right.b0f40162.svg\";","import React ,{useEffect,useState} from 'react'\r\nimport {inject,observer} from 'mobx-react'\r\nimport dateFormat from 'date-format'\r\nimport success from './img/success.svg'\r\nimport undone from './img/undone.svg'\r\nimport right from './img/right.svg'\r\nimport {\r\n  DeriEnv,\r\n  airdropPToken,\r\n  isUserPTokenExist,\r\n  fetchRestApi,\r\n  getAirdropPTokenWhitelistCount,\r\n  getTradeHistory\r\n} from \"../../lib/web3js/indexV2\";\r\nimport Button from '../Button/Button'\r\nfunction Signin({wallet={},lang}){\r\n  const isDev = DeriEnv.get() == 'dev' ? false : true;\r\n  const spec =  isDev?{\r\n    \"pool\":\"0x19c2655A0e1639B189FB0CF06e02DC0254419D92\",\r\n    \"bTokenId\":\"0\"\r\n  }:{\r\n    \"pool\":\"0x54a71Cad29C314eA081b2B0b1Ac25a7cE3b7f7A5\",\r\n    \"bTokenId\":\"0\"\r\n  }\r\n  const [isApprove, setIsApprove] = useState(true);\r\n  const [isThanFiveThousand,setIsThanFiveThousand] = useState(false)\r\n  const [isClaim,setIsClaim] = useState(false);\r\n  const [isHavePtoken,setIsHavePtoken] = useState(false);\r\n  const [isNowSign,setIsNowSign] = useState(false);\r\n  const [actionElement,setActionElement] = useState(<Button className='btn'  btnText={lang['connect-wallet']}></Button>)\r\n  const [isSignIn,setIsSignIn] =useState({\r\n    'one':false,\r\n    'two':false,\r\n    'three':false,\r\n  })\r\n  const [isTrade,setIsTrade] =useState({\r\n    'one':false,\r\n    'two':false,\r\n    'three':false,\r\n  })\r\n  const hasConnectWallet = () => wallet && wallet.detail && wallet.detail.account\r\n  \r\n  const loadApprove = async ()=>{\r\n    if(hasConnectWallet() && spec){\r\n      const result = await wallet.isApproved(spec.pool,spec.bTokenId);\r\n      setIsApprove(result);\r\n    }\r\n  }\r\n\r\n  const connect = () => {\r\n    wallet.connect()\r\n  }\r\n\r\n  const getIsThanFiveThousand = async () =>{\r\n    let res = await getAirdropPTokenWhitelistCount(wallet.detail.chainId)\r\n    if(+res>=4999){\r\n      setIsThanFiveThousand(true)\r\n    }\r\n  }\r\n\r\n  const getIsClaimed = async () => {\r\n    let path = `/ptoken_airdrop/${wallet.detail.account}/is_claimed`;\r\n    let res = await fetchRestApi(path)\r\n    setIsClaim(res.data)\r\n  }\r\n\r\n  const getStamp = async () => {\r\n    let path = `/ptoken_airdrop/${wallet.detail.account}/signin_status`\r\n    let res = await fetchRestApi(path)\r\n    let timestamp = Date.parse(new Date());\r\n    let nowDate = dateFormat.asString('yyyy-MM-dd',new Date(parseInt(timestamp)))\r\n    let arr = [] \r\n    res.data.map(item=>{\r\n      let obj = false;\r\n      if(item.date == nowDate){\r\n        setIsNowSign(item.signin)\r\n      }\r\n      if(item.signin){\r\n        obj = item.signin;\r\n        arr.push(obj)\r\n      }\r\n    });\r\n    if(arr.length){\r\n      setIsSignIn({\r\n        'one':arr[0],\r\n        'two':arr[1],\r\n        'three':arr[2],\r\n      })\r\n    }\r\n  }\r\n\r\n  const getIsTrade = async () => {\r\n      let resBTC = await getTradeHistory(wallet.detail.chainId,spec.pool,wallet.detail.account,spec.bTokenId)\r\n      let resETH = await getTradeHistory(wallet.detail.chainId,spec.pool,wallet.detail.account,\"1\")\r\n      let resBNB = await getTradeHistory(wallet.detail.chainId,spec.pool,wallet.detail.account,\"2\")\r\n      let res = resBTC.concat(resETH,resBNB);\r\n      let obj = {}\r\n      if(isSignIn.three){\r\n        if(res.length == 1){\r\n          obj = {\r\n            'one':true,\r\n            'two':false,\r\n            'three':false,\r\n          }\r\n        }else if(res.length == 2){\r\n          obj = {\r\n            'one':true,\r\n            'two':true,\r\n            'three':false,\r\n          }\r\n        }else if(res.length >= 3){\r\n          obj = {\r\n            'one':true,\r\n            'two':true,\r\n            'three':true,\r\n          }\r\n        }\r\n        setIsTrade(obj)\r\n      }\r\n  }\r\n\r\n  const signIn = async ()=>{\r\n    if(wallet.detail.chainId != 56){\r\n      alert(lang['please-switch-to-bsc']);\r\n      return;\r\n    }\r\n    if(+(wallet.detail.formatBalance)<=0.2){\r\n      alert(lang['less-bnb'])\r\n      return;\r\n    }\r\n    if(isHavePtoken){\r\n      alert(lang['use-a-new-address'])\r\n      return;\r\n    }\r\n    if(isNowSign){\r\n      alert(lang['already-stamped-today'])  \r\n      return;\r\n    }\r\n    let path = `/ptoken_airdrop/${wallet.detail.account}/signin`\r\n    let res = await fetchRestApi(path,{ method: 'POST' });\r\n    if(!res.success){\r\n      if(res.error.indexOf('insufficent user balance')!= 0){\r\n        alert(lang['less-bnb'])\r\n        return;\r\n      }\r\n      alert(lang['sign-in-failed'])\r\n    }\r\n    getStamp();\r\n    return;\r\n  }\r\n\r\n  const claimPtoken = async ()=>{\r\n    if(wallet.detail.chainId != 56){\r\n      alert(lang['please-switch-to-bsc']);\r\n      return;\r\n    }\r\n    if(isHavePtoken){\r\n      alert(lang['use-a-new-address'])\r\n      return;\r\n    }\r\n    if(+(wallet.detail.formatBalance) <= 0.2){\r\n      alert(lang['less-bnb'])\r\n      return;\r\n    }\r\n    let res = await airdropPToken(wallet.detail.chainId,wallet.detail.account);\r\n    if(!res.success){\r\n      alert['claim-failed']\r\n    }else{\r\n      alert(['claim-success'])\r\n      setIsClaim(true)\r\n    }\r\n  }\r\n\r\n  const isPtoken = async ()=>{\r\n    let res = await isUserPTokenExist(wallet.detail.chainId,spec.pool,wallet.detail.account)\r\n    setIsHavePtoken(res)\r\n  }\r\n\r\n  const approve = async () => {\r\n    if(wallet.detail.chainId != 56){\r\n      alert(lang['please-switch-to-bsc']);\r\n      return;\r\n    }\r\n    const res = await wallet.approve(spec.pool,spec.bTokenId)\r\n    if(res.success){\r\n      setIsApprove(true);\r\n      loadApprove();\r\n      \r\n    } else {\r\n      setIsApprove(false);\r\n      alert(lang['approve-failed']);\r\n    }\r\n  }\r\n  \r\n  useEffect(() => {\r\n    if(hasConnectWallet()){\r\n      loadApprove();\r\n      isPtoken();\r\n    }\r\n  }, [wallet.detail,spec,isSignIn]);\r\n\r\n  useEffect(()=>{\r\n    if(hasConnectWallet()){\r\n      getStamp();\r\n      getIsClaimed();\r\n      getIsThanFiveThousand();\r\n    }\r\n  },[wallet.detail])\r\n  useEffect(()=>{\r\n    if(hasConnectWallet()){\r\n      getIsTrade();\r\n    }\r\n  },[wallet.detail,isSignIn])\r\n  useEffect(()=>{\r\n    let element;\r\n    let timestamp = new Date()\r\n    //1627725600000\r\n    if(timestamp.getTime() <= 1627725600000){\r\n      if(hasConnectWallet()){\r\n        if(isSignIn.three){\r\n          if(!isApprove) {\r\n            element = <Button className='btn' btnText={lang['approve']} click={approve} lang={lang}/>\r\n          }else if(isClaim || isThanFiveThousand){\r\n            element = <a className='btn' target=\"_blank\" href='https://app.deri.finance/#/lite'>{lang['trade']}</a>\r\n          }else{\r\n            element = <Button className='btn' btnText={lang['claim']} click={claimPtoken}  lang={lang}/>\r\n          }\r\n        }else{\r\n          element = <Button className='btn btn-danger connect' click={signIn} btnText={lang['sign-in']}  lang={lang} />\r\n        }\r\n        \r\n      } else {\r\n        element = <Button className='btn btn-danger connect' btnText={lang['connect-wallet']} click={connect} lang={lang} />\r\n      }\r\n    }else{\r\n      element = <button className='btn btn-danger connect disbutton' disabled  >{lang['activity-ends']} </button>\r\n    }\r\n    \r\n    setActionElement(element) \r\n  },[wallet.detail,isApprove,isSignIn,isHavePtoken,isClaim,isThanFiveThousand])\r\n  \r\n  return(\r\n    <div className='signin'>\r\n      <div className='title'>\r\n        <div>\r\n          {lang['title-three']}\r\n        </div>\r\n        <div className='time'>\r\n          {lang['title-five']}\r\n        </div>\r\n      </div>\r\n      <div className='user-tasks'>\r\n        <div className='header'>\r\n          {lang['header']}\r\n        </div>\r\n        <div className='content'>\r\n          <div className='content-text'>\r\n            <div className='left'>\r\n              <div className='signin-title'>\r\n                {lang['sign-in']}\r\n              </div>\r\n              <div className='signined'>\r\n                {isSignIn.one?<img src={success} />:<img src={undone} />} \r\n                {isSignIn.two?<img src={success} />:<img src={undone} />} \r\n                {isSignIn.three?<img src={success} />:<img src={undone} />} \r\n              </div>\r\n            </div>\r\n            <div className='center'>\r\n              <div className='point'></div>\r\n              <div className='point'></div>\r\n              <div className='point'></div>\r\n              <div className='claim-ptoken-text'>\r\n                {lang['claim-ptoken']}\r\n              </div>\r\n              <div className='point'></div>\r\n              <div className='point'></div>\r\n              <div className='right-arr'>\r\n                <img src={right} />\r\n              </div>\r\n            </div>\r\n            <div className='right'>\r\n            <div className='signin-title'>\r\n                {lang['trade']}\r\n              </div>\r\n              <div className='signined'>\r\n                {isTrade.one?<img src={success} />:<img src={undone} />} \r\n                {isTrade.two?<img src={success} />:<img src={undone} />} \r\n                {isTrade.three?<img src={success} />:<img src={undone} />} \r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className='button'>\r\n            {actionElement}\r\n          </div>\r\n          {isThanFiveThousand? <div className='exceed'>{lang['exceed-participants']}</div>:''}\r\n        </div>\r\n        \r\n      </div>\r\n      <div className='h2'>\r\n          {lang['title-one']}\r\n          <span className='title-num'>\r\n            {lang['title-num']}\r\n          </span>\r\n          <span className='in-deri'>\r\n            {lang['title-two']}\r\n          </span>\r\n          <div className='text'>\r\n          {lang['title-frou']}\r\n        </div>\r\n        </div>\r\n      <div className='rules'>\r\n        <div className='rules-title'>\r\n          {lang['who-are-eligibles']}\r\n        </div>\r\n        \r\n        <div className='text'>\r\n          {lang['rules-one']}\r\n        </div>\r\n        <div className='text'>\r\n          {lang['rules-two']}\r\n        </div>\r\n        <div className='text'>\r\n          {lang['rules-three']}\r\n        </div>\r\n        <div className='rules-title'>\r\n          {lang['how-to-participate']}\r\n        </div>\r\n        <div className='text'>\r\n          {lang['step-one']}\r\n        </div>\r\n        <div className='text'>\r\n          {lang['step-two']}\r\n        </div>\r\n        <div className='text'>\r\n          {lang['step-three']}\r\n        </div>\r\n        <div className='text'>\r\n          {lang['step-four']}\r\n        </div>\r\n        \r\n      </div>\r\n  </div>\r\n  )\r\n}\r\nexport default inject(\"wallet\")(observer(Signin))"],"sourceRoot":""}