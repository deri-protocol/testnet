(this["webpackJsonpapp.deri.finance"]=this["webpackJsonpapp.deri.finance"]||[]).push([[30],{1189:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return v}));a(733);var n=a(734),c=a(27),r=a(29),i=a(619),o=a(825),s=a.n(o),l=a(735),u=a(118),d=a(20),b=["ACTION","ACCOUNT","LIQUIDITY","AMOUNT","TIMESTAMP (UTC+8)"],m=["action","account","notional","amount","timestamp"],j="".concat(Object({NODE_ENV:"development",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_HTTP_URL:"https://oracle2.deri.finance",REACT_APP_REST_SERVER_URL:"https://testnetapi.deri.finance",REACT_APP_WSS_URL:"wss://oracle2.deri.finance"}).REACT_APP_INFO_HTTP_URL),O=["DIRECTION","ACCOUNT","SYMBOL","PRICE","VOLUME","NOTIONAL","TIMESTAMP (UTC+8)"],f=["direction","account","symbol","price","volume","notional","timestamp"],p={account:function(e){return Object(r.g)(e.account)},timestamp:function(e){return s()(new Date(1e3*e.timestamp)).format("YYYY-MM-DD HH:mm:ss")},notional:function(e){return Object(d.jsx)(i.a,{value:e.notional,prefix:"$",thousandSeparator:!0,decimalScale:5})},amount:function(e){return Object(d.jsx)(i.a,{value:e.amount,suffix:" ".concat(e.bToken),thousandSeparator:!0,decimalScale:5})},price:function(e){return Object(d.jsx)(i.a,{value:e.price,thousandSeparator:!0,decimalScale:5})},direction:function(e){return Object(d.jsx)("span",{className:"direction ".concat(e.direction),children:e.direction})},action:function(e){return Object(d.jsx)("span",{className:"action ".concat(e.action),children:e.action})}};function v(){var e=Object(c.useParams)(),t=e.network,a=e.add,i=e.catalog,o=e.bToken,s="".concat(j,"/get_liquidity?pool=").concat(a),v="".concat(j,"/get_trade?pool=").concat(a);return Object(d.jsxs)("div",{className:"info",style:{width:"calc(100vw - ".concat(.25*window.screen.width,"px)")},children:[Object(d.jsxs)("div",{className:"title",children:[Object(d.jsx)(u.b,{to:"/info",children:"Deri Overview"})," > ","".concat(t," - ").concat(i.toUpperCase()," - ").concat(Object(r.g)(a)," (").concat(o,")")]}),Object(d.jsxs)("div",{className:"chart-box",children:[Object(d.jsxs)("div",{className:"chart",children:[Object(d.jsx)(l.a,{title:"TVL",url:"".concat(Object({NODE_ENV:"development",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_HTTP_URL:"https://oracle2.deri.finance",REACT_APP_REST_SERVER_URL:"https://testnetapi.deri.finance",REACT_APP_WSS_URL:"wss://oracle2.deri.finance"}).REACT_APP_INFO_HTTP_URL,"/get_liquidity_history?pool=").concat(a),seriesType:"area"})," "]}),Object(d.jsxs)("div",{className:"chart",children:[Object(d.jsx)(l.a,{title:"Volume 24H",url:"".concat(Object({NODE_ENV:"development",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_HTTP_URL:"https://oracle2.deri.finance",REACT_APP_REST_SERVER_URL:"https://testnetapi.deri.finance",REACT_APP_WSS_URL:"wss://oracle2.deri.finance"}).REACT_APP_INFO_HTTP_URL,"/get_trade_history?pool=").concat(a),seriesType:"histogram"})," "]})]}),Object(d.jsxs)("div",{className:"table-by-network",children:[Object(d.jsx)(n.a,{title:"LIQUIDITY",headers:b,columns:m,columnRenders:p,url:s,pagination:!0}),Object(d.jsx)(n.a,{title:"TRADE",headers:O,columns:f,columnRenders:p,url:v,pagination:!0})]})]})}},619:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var n=a(55),c=a(49),r=a(621),i=a(9),o=a(8),s=a(620),l=a(20),u=["allowZero"];function d(e){var t=Object(o.useState)(Object(l.jsx)("span",{className:"loading-line"})),a=Object(i.a)(t,2),d=a[0],b=a[1];return Object(o.useEffect)((function(){var t=e.allowZero,a=Object(r.a)(e,u);return("object"!==Object(c.a)(e.value)&&void 0!==e.value&&""!==e.value&&"NaN"!==e.value||0===(isNaN(e.value)&&Math.abs(e.value))&&!0===t)&&(console.log(e.value),console.log(e),b(Object(l.jsx)(s.a,Object(n.a)(Object(n.a)({},a),{},{displayType:"text"})))),function(){}}),[e.value]),d}},733:function(e,t,a){},734:function(e,t,a){"use strict";var n=a(0),c=a.n(n),r=a(1),i=a(9),o=a(8),s=a(645),l=a.n(s),u=a(48),d=a(20);t.a=Object(u.b)("loading")(Object(u.c)((function(e){var t=e.title,a=e.dataSet,n=e.url,s=e.headers,u=e.columns,b=e.columnRenders,m=void 0===b?{}:b,j=e.pagination,O=e.loading,f=e.onRowClick,p=Object(o.useState)([]),v=Object(i.a)(p,2),h=v[0],_=v[1],T=Object(o.useState)(1),S=Object(i.a)(T,2),R=S[0],E=S[1],C=Object(o.useState)(),N=Object(i.a)(C,2),x=N[0],A=N[1],P=Object(o.useState)(10),g=Object(i.a)(P,2),y=g[0],w=(g[1],function(){var e=Object(r.a)(c.a.mark((function e(t,a){var n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,j&&(n="".concat(n,"&page=").concat(a,"&page_amount=").concat(y)),O.loading(),e.next=5,l.a.get(n);case 5:200===(r=e.sent).status&&Array.isArray(r.data.data)&&(A(r.data.count/y),r.data.count%y>0&&A(Math.floor(r.data.count/y)+1),_(r.data.data),E(a),O.loaded());case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}());return Object(o.useEffect)((function(){a?_(a):w(n,1)}),[n]),Object(d.jsxs)("div",{className:"info-table",children:[Object(d.jsx)("div",{className:"t-title",children:t}),Object(d.jsxs)("div",{className:"tbody",children:[Object(d.jsx)("div",{className:"theader",children:s.map((function(e){return Object(d.jsx)("div",{className:"col",children:e})}))}),h.length>0?h.map((function(e){return Object(d.jsx)("div",{className:"row",onClick:function(){return f&&f(e)},style:{cursor:f?"pointer":"normal"},children:u.map((function(t){return Object(d.jsx)("div",{className:"col",children:m[t]?m[t].call(null,e):e[t]})}))})})):Object(d.jsx)("div",{className:"row",children:Object(d.jsx)("div",{className:"col no-data",children:"No Data"})}),j&&h.length>0&&Object(d.jsxs)("div",{className:"pagination row",children:[Object(d.jsx)("span",{className:"arrow",onClick:function(){1!==R&&w(n,R-1)},children:" < "}),Object(d.jsxs)("span",{children:["Page ",R," of ",x]}),Object(d.jsx)("span",{className:"arrow",onClick:function(){R!==x&&w(n,R+1)},children:" > "})]})]})]})})))},735:function(e,t,a){"use strict";a.d(t,"a",(function(){return O}));var n=a(0),c=a.n(n),r=a(1),i=a(9),o=a(8),s=a(743),l=a(645),u=a.n(l),d=a(706),b=a.n(d),m=a(29),j=a(20);function O(e){var t=e.title,a=e.url,n=e.seriesType,l=Object(o.useRef)(null),d=Object(o.useRef)(null),O=Object(o.useState)(""),f=Object(i.a)(O,2),p=f[0],v=f[1],h=Object(o.useState)(""),_=Object(i.a)(h,2),T=_[0],S=_[1],R=Object(o.useRef)(),E=function(e){if(!e.point)return S(""),void(R.current&&v(R.current.value));e.seriesPrices.forEach((function(e){e&&v(e)})),e.time&&S("".concat(e.time.year,"-").concat(e.time.month,"-").concat(e.time.day," (UTC+8)"))},C=function(){var e=Object(r.a)(c.a.mark((function e(t){var n,r,i,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.addAreaSeries({priceLineVisible:!1,lastValueVisible:!1,topColor:"RGBA(0,101,159,.5)",bottomColor:"RGBA(0,101,159,0)",lineColor:"RGB(0,101,159)",priceFormat:{precision:1,minMove:"1000"}}),e.next=3,u.a.get(a);case 3:return 200===(r=e.sent).status&&Array.isArray(r.data.data)&&(i=(i=r.data.data.sort((function(e,t){return e.timestamp>t.timestamp?1:e.timestamp<t.timestamp?-1:0}))).map((function(e){return{time:b()(new Date(1e3*e.timestamp),"yyyy-mm-dd"),value:e.value}})),n.setData(i),o=i[i.length-1],v(o.value),R.current=o),d.current=n,t.timeScale().fitContent(),e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(r.a)(c.a.mark((function e(t){var n,r,i,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.addHistogramSeries({color:"#00659F",priceLineVisible:!1,lastValueVisible:!1,priceFormat:{type:"volume",priceFormatter:function(e){return"$ "+e}},scaleMargins:{top:.2,bottom:0}}),e.next=3,u.a.get(a);case 3:return 200===(r=e.sent).status&&Array.isArray(r.data.data)&&(i=r.data.data.sort((function(e,t){return e.timestamp>t.timestamp?1:e.timestamp<t.timestamp?-1:0})).map((function(e){return{time:b()(new Date(1e3*e.timestamp),"yyyy-mm-dd"),value:Number(e.value)}})),n.setData(i),o=i[i.length-1],v(o.value),R.current=o),d.current=n,t.timeScale().fitContent(),e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(o.useEffect)((function(){var e=function(){var e=document.querySelector(".info-chart").getBoundingClientRect();return Object(s.b)(l.current,{localization:{priceFormatter:function(e){return"$ "+Object(m.d)(e)},locale:"en-US"},timeScale:{rightOffset:0,leftOffset:5,timeVisible:!0,borderColor:"#fff",borderVisible:!1},width:e.width,height:e.height,priceScale:{position:"none",borderColor:"#fff",borderVisible:!1,mode:0,scaleMargins:{top:.3,bottom:.01}},handleScroll:!1,handleScale:!1,crosshair:{mode:s.a.Normal,vertLine:{labelVisible:!1,visible:!1},horzLine:{labelVisible:!1,visible:!1}},grid:{vertLines:{visible:!1},horzLines:{visible:!1}},layout:{backgroundColor:"#212327",textColor:"#fff",fontSize:12}})}();return"area"===n&&C(e),"histogram"===n&&N(e),e.subscribeCrosshairMove(E),function(){e&&(e.unsubscribeCrosshairMove(E),d.current&&e.removeSeries(d.current),e.remove())}}),[a,n]),Object(j.jsxs)("div",{className:"info-chart",children:[Object(j.jsxs)("div",{className:"chart-title",children:[Object(j.jsx)("div",{className:"title-label",children:t}),Object(j.jsxs)("div",{className:"title-value",children:[p?"$".concat(Object(m.d)(p)):""," "]}),Object(j.jsxs)("div",{className:"title-date",children:[T," "]})]}),Object(j.jsx)("div",{className:"series",ref:l})]})}}}]);
//# sourceMappingURL=30.8cca4273.chunk.js.map